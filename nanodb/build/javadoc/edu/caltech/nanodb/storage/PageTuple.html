<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_111) on Wed Jan 18 13:25:14 PST 2017 -->
<title>PageTuple (NanoDB)</title>
<meta name="date" content="2017-01-18">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PageTuple (NanoDB)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":6,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":9,"i12":10,"i13":10,"i14":10,"i15":10,"i16":9,"i17":9,"i18":6,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":9,"i27":10,"i28":9,"i29":10,"i30":10,"i31":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../edu/caltech/nanodb/storage/PageReader.html" title="class in edu.caltech.nanodb.storage"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../edu/caltech/nanodb/storage/PageWriter.html" title="class in edu.caltech.nanodb.storage"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?edu/caltech/nanodb/storage/PageTuple.html" target="_top">Frames</a></li>
<li><a href="PageTuple.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.caltech.nanodb.storage</div>
<h2 title="Class PageTuple" class="title">Class PageTuple</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>edu.caltech.nanodb.storage.PageTuple</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../edu/caltech/nanodb/relations/Tuple.html" title="interface in edu.caltech.nanodb.relations">Tuple</a>, <a href="../../../../edu/caltech/nanodb/storage/Pinnable.html" title="interface in edu.caltech.nanodb.storage">Pinnable</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../edu/caltech/nanodb/storage/heapfile/HeapFilePageTuple.html" title="class in edu.caltech.nanodb.storage.heapfile">HeapFilePageTuple</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.42">PageTuple</a>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../edu/caltech/nanodb/relations/Tuple.html" title="interface in edu.caltech.nanodb.relations">Tuple</a></pre>
<div class="block"><p>
 This class is a partial implementation of the <a href="../../../../edu/caltech/nanodb/relations/Tuple.html" title="interface in edu.caltech.nanodb.relations"><code>Tuple</code></a> interface that
 handles reading and writing tuple data against a <a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage"><code>DBPage</code></a> object.
 This can be used to read and write tuples in a table file, keys in an index
 file, etc.  It could also be used to store and manage tuples in memory,
 although it's generally much faster and simpler to use an optimized in-memory
 representation for tuples in memory.
 </p>
 <p>
 Each tuple is stored in a layout like this:
 </p>
 <ul>
   <li>The first one or more bytes are dedicated to a <tt>NULL</tt>-bitmap,
       which records columns that are currently <tt>NULL</tt>.</li>
   <li>The remaining bytes are dedicated to storing the non-<tt>NULL</tt>
       values for the columns in the tuple.</li>
 </ul>
 <p>
 In order to make this class' functionality generic, certain operations must
 be implemented by subclasses:  specifically, any operation that changes a
 tuple's size (e.g. writing a non-<tt>NULL</tt> value to a previously
 <tt>NULL</tt> column or vice versa, or changing the size of a variable-size
 column).  The issue with these operations is that they require page-level
 data management, which is beyond the scope of what this class can provide.
 Thus, concrete subclasses of this class can provide page-level data
 management as needed.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage">DBPage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#dbPage">dbPage</a></span></code>
<div class="block">The database page that contains the tuple's data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#endOffset">endOffset</a></span></code>
<div class="block">The offset in the page where the tuple's data ends.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#NULL_OFFSET">NULL_OFFSET</a></span></code>
<div class="block">This value is used in <a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#valueOffsets"><code>valueOffsets</code></a> when a column value is set to
 <tt>NULL</tt>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#pageOffset">pageOffset</a></span></code>
<div class="block">The offset in the page of the tuple's start.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#pinCount">pinCount</a></span></code>
<div class="block">The pin-count of this tuple.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../edu/caltech/nanodb/relations/Schema.html" title="class in edu.caltech.nanodb.relations">Schema</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#schema">schema</a></span></code>
<div class="block">The schema of the tuple.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#valueOffsets">valueOffsets</a></span></code>
<div class="block">This array contains the cached offsets of each value in this tuple.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#PageTuple-edu.caltech.nanodb.storage.DBPage-int-edu.caltech.nanodb.relations.Schema-">PageTuple</a></span>(<a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage">DBPage</a>&nbsp;dbPage,
         int&nbsp;pageOffset,
         <a href="../../../../edu/caltech/nanodb/relations/Schema.html" title="class in edu.caltech.nanodb.relations">Schema</a>&nbsp;schema)</code>
<div class="block">Construct a new tuple object that is backed by the data in the database
 page.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#checkColumnIndex-int-">checkColumnIndex</a></span>(int&nbsp;colIndex)</code>
<div class="block">This helper method checks the column index for being in the proper
 range of values.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#computeValueOffsets--">computeValueOffsets</a></span>()</code>
<div class="block">This helper function computes and caches the offset of each column
 value in the tuple.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#deleteTupleDataRange-int-int-">deleteTupleDataRange</a></span>(int&nbsp;off,
                    int&nbsp;len)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#getColumnCount--">getColumnCount</a></span>()</code>
<div class="block">Returns the number of attributes in the tuple.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#getColumnValue-int-">getColumnValue</a></span>(int&nbsp;colIndex)</code>
<div class="block">Returns the specified column's value as an <code>Object</code>
 reference.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#getColumnValueSize-edu.caltech.nanodb.relations.ColumnType-int-">getColumnValueSize</a></span>(<a href="../../../../edu/caltech/nanodb/relations/ColumnType.html" title="class in edu.caltech.nanodb.relations">ColumnType</a>&nbsp;colType,
                  int&nbsp;valueOffset)</code>
<div class="block">Returns the number of bytes used by the column-value at the specified
 offset, with the specified type.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#getDataStartOffset--">getDataStartOffset</a></span>()</code>
<div class="block">Returns the offset where the tuple's data actually starts.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage">DBPage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#getDBPage--">getDBPage</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#getEndOffset--">getEndOffset</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../edu/caltech/nanodb/storage/FilePointer.html" title="class in edu.caltech.nanodb.storage">FilePointer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#getExternalReference--">getExternalReference</a></span>()</code>
<div class="block">This method returns an external reference to the tuple, which can be
 stored and used to look up this tuple.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#getNullFlag-int-">getNullFlag</a></span>(int&nbsp;colIndex)</code>
<div class="block">This is a helper function to find out the current value of a column's
 <tt>NULL</tt> flag.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#getNullFlagsSize-int-">getNullFlagsSize</a></span>(int&nbsp;numCols)</code>
<div class="block">This method computes and returns the number of bytes that are used to
 store the null-flags in each tuple.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#getOffset--">getOffset</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#getPinCount--">getPinCount</a></span>()</code>
<div class="block">Returns the total number of times the object has been pinned.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../../edu/caltech/nanodb/relations/Schema.html" title="class in edu.caltech.nanodb.relations">Schema</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#getSchema--">getSchema</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#getSize--">getSize</a></span>()</code>
<div class="block">Returns the storage-size of the tuple in bytes.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#getStorageSize-edu.caltech.nanodb.relations.ColumnType-int-">getStorageSize</a></span>(<a href="../../../../edu/caltech/nanodb/relations/ColumnType.html" title="class in edu.caltech.nanodb.relations">ColumnType</a>&nbsp;colType,
              int&nbsp;dataLength)</code>
<div class="block">Returns the storage size of a particular column's (non-<tt>NULL</tt>)
 value, in bytes.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#getTupleStorageSize-edu.caltech.nanodb.relations.Schema-edu.caltech.nanodb.relations.Tuple-">getTupleStorageSize</a></span>(<a href="../../../../edu/caltech/nanodb/relations/Schema.html" title="class in edu.caltech.nanodb.relations">Schema</a>&nbsp;schema,
                   <a href="../../../../edu/caltech/nanodb/relations/Tuple.html" title="interface in edu.caltech.nanodb.relations">Tuple</a>&nbsp;tuple)</code>
<div class="block">This helper function takes a tuple (from an arbitrary source) and
 computes how much space it would require to be stored in a heap table
 file with the specified schema.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#insertTupleDataRange-int-int-">insertTupleDataRange</a></span>(int&nbsp;off,
                    int&nbsp;len)</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#isDiskBacked--">isDiskBacked</a></span>()</code>
<div class="block">Page tuples are backed by data pages managed by the Buffer Manager, so
 this method always returns true.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#isNullValue-int-">isNullValue</a></span>(int&nbsp;colIndex)</code>
<div class="block">Returns true if the specified column is currently set to the SQL
 <tt>NULL</tt> value.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#isPinned--">isPinned</a></span>()</code>
<div class="block">Returns true if the object is currently pinned, false otherwise.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#pin--">pin</a></span>()</code>
<div class="block">Increase the pin-count on the object by one.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#setColumnValue-int-java.lang.Object-">setColumnValue</a></span>(int&nbsp;colIndex,
              <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;value)</code>
<div class="block">Sets the column to the specified value, or <tt>NULL</tt> if the value is
 the Java <tt>null</tt> value.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#setNonNullColumnValue-int-java.lang.Object-">setNonNullColumnValue</a></span>(int&nbsp;iCol,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;value)</code>
<div class="block">This helper function is used by the <a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#setColumnValue-int-java.lang.Object-"><code>setColumnValue(int, java.lang.Object)</code></a> method in
 the specific case when a column is being set to a non-<tt>NULL</tt>
 value.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#setNullColumnValue-int-">setNullColumnValue</a></span>(int&nbsp;iCol)</code>
<div class="block">This helper function is used by the <a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#setColumnValue-int-java.lang.Object-"><code>setColumnValue(int, java.lang.Object)</code></a> method in
 the specific case when a column is being set to the SQL <tt>NULL</tt>
 value.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#setNullFlag-edu.caltech.nanodb.storage.DBPage-int-int-boolean-">setNullFlag</a></span>(<a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage">DBPage</a>&nbsp;dbPage,
           int&nbsp;tupleStart,
           int&nbsp;colIndex,
           boolean&nbsp;value)</code>
<div class="block">This is a helper function to set or clear the value of a column's
 <tt>NULL</tt> flag.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#setNullFlag-int-boolean-">setNullFlag</a></span>(int&nbsp;colIndex,
           boolean&nbsp;value)</code>
<div class="block">This is a helper function to set or clear the value of a column's NULL
 flag.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#storeTuple-edu.caltech.nanodb.storage.DBPage-int-edu.caltech.nanodb.relations.Schema-edu.caltech.nanodb.relations.Tuple-">storeTuple</a></span>(<a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage">DBPage</a>&nbsp;dbPage,
          int&nbsp;pageOffset,
          <a href="../../../../edu/caltech/nanodb/relations/Schema.html" title="class in edu.caltech.nanodb.relations">Schema</a>&nbsp;schema,
          <a href="../../../../edu/caltech/nanodb/relations/Tuple.html" title="interface in edu.caltech.nanodb.relations">Tuple</a>&nbsp;tuple)</code>&nbsp;</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#unpin--">unpin</a></span>()</code>
<div class="block">Decrease the pin-count on the object by one.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#writeNonNullValue-edu.caltech.nanodb.storage.DBPage-int-edu.caltech.nanodb.relations.ColumnType-java.lang.Object-">writeNonNullValue</a></span>(<a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage">DBPage</a>&nbsp;dbPage,
                 int&nbsp;offset,
                 <a href="../../../../edu/caltech/nanodb/relations/ColumnType.html" title="class in edu.caltech.nanodb.relations">ColumnType</a>&nbsp;colType,
                 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;value)</code>
<div class="block">This helper function is used by the <a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#setColumnValue-int-java.lang.Object-"><code>setColumnValue(int, java.lang.Object)</code></a> method in
 the specific case when a column is being set to a non-<tt>NULL</tt>
 value.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="NULL_OFFSET">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NULL_OFFSET</h4>
<pre>public static final&nbsp;int <a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.48">NULL_OFFSET</a></pre>
<div class="block">This value is used in <a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#valueOffsets"><code>valueOffsets</code></a> when a column value is set to
 <tt>NULL</tt>.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#edu.caltech.nanodb.storage.PageTuple.NULL_OFFSET">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="pinCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pinCount</h4>
<pre>private&nbsp;int <a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.56">pinCount</a></pre>
<div class="block">The pin-count of this tuple.  Note that this tuple's pin-count will
 likely be different from the backing <code>DBPage</code>'s pin-count,
 particularly if multiple tuples from the <code>DBPage</code> are in use.</div>
</li>
</ul>
<a name="dbPage">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dbPage</h4>
<pre>private&nbsp;<a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage">DBPage</a> <a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.60">dbPage</a></pre>
<div class="block">The database page that contains the tuple's data.</div>
</li>
</ul>
<a name="pageOffset">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pageOffset</h4>
<pre>private&nbsp;int <a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.64">pageOffset</a></pre>
<div class="block">The offset in the page of the tuple's start.</div>
</li>
</ul>
<a name="schema">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>schema</h4>
<pre>private&nbsp;<a href="../../../../edu/caltech/nanodb/relations/Schema.html" title="class in edu.caltech.nanodb.relations">Schema</a> <a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.68">schema</a></pre>
<div class="block">The schema of the tuple.</div>
</li>
</ul>
<a name="valueOffsets">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>valueOffsets</h4>
<pre>private&nbsp;int[] <a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.78">valueOffsets</a></pre>
<div class="block">This array contains the cached offsets of each value in this tuple.
 The array is populated when a tuple is constructed.  For columns with
 a value of <tt>NULL</tt>, the offset will be 0.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#NULL_OFFSET"><code>NULL_OFFSET</code></a></dd>
</dl>
</li>
</ul>
<a name="endOffset">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>endOffset</h4>
<pre>private&nbsp;int <a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.89">endOffset</a></pre>
<div class="block">The offset in the page where the tuple's data ends.  Note that this value
 is <u>one byte past</u> the end of the tuple's data; as with most Java
 sequences, the starting offset is inclusive and the ending offset is
 exclusive.  Also, as a consequence, this value could be past the end of
 the byte-array that the tuple resides in, if the tuple is at the end of
 the byte-array.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PageTuple-edu.caltech.nanodb.storage.DBPage-int-edu.caltech.nanodb.relations.Schema-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PageTuple</h4>
<pre>public&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.100">PageTuple</a>(<a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage">DBPage</a>&nbsp;dbPage,
                 int&nbsp;pageOffset,
                 <a href="../../../../edu/caltech/nanodb/relations/Schema.html" title="class in edu.caltech.nanodb.relations">Schema</a>&nbsp;schema)</pre>
<div class="block">Construct a new tuple object that is backed by the data in the database
 page.  This tuple is able to be read from or written to.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dbPage</code> - the specific database page that holds the tuple</dd>
<dd><code>pageOffset</code> - the offset of the tuple's actual data in the page</dd>
<dd><code>schema</code> - the details of the columns that appear within the tuple</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="isDiskBacked--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDiskBacked</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.129">isDiskBacked</a>()</pre>
<div class="block">Page tuples are backed by data pages managed by the Buffer Manager, so
 this method always returns true.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/relations/Tuple.html#isDiskBacked--">isDiskBacked</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/relations/Tuple.html" title="interface in edu.caltech.nanodb.relations">Tuple</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> since page tuples are backed by disk pages.</dd>
</dl>
</li>
</ul>
<a name="pin--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pin</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.135">pin</a>()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html#pin--">Pinnable</a></code></span></div>
<div class="block">Increase the pin-count on the object by one.  An object with a nonzero
 pin-count cannot be released because it is in use.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html#pin--">pin</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html" title="interface in edu.caltech.nanodb.storage">Pinnable</a></code></dd>
</dl>
</li>
</ul>
<a name="unpin--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unpin</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.142">unpin</a>()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html#unpin--">Pinnable</a></code></span></div>
<div class="block">Decrease the pin-count on the object by one.  When the pin-count
 reaches zero, the object can be released.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html#unpin--">unpin</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html" title="interface in edu.caltech.nanodb.storage">Pinnable</a></code></dd>
</dl>
</li>
</ul>
<a name="getPinCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPinCount</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.159">getPinCount</a>()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html#getPinCount--">Pinnable</a></code></span></div>
<div class="block">Returns the total number of times the object has been pinned.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html#getPinCount--">getPinCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html" title="interface in edu.caltech.nanodb.storage">Pinnable</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the total number of times the object has been pinned.</dd>
</dl>
</li>
</ul>
<a name="isPinned--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPinned</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.165">isPinned</a>()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html#isPinned--">Pinnable</a></code></span></div>
<div class="block">Returns true if the object is currently pinned, false otherwise.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html#isPinned--">isPinned</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html" title="interface in edu.caltech.nanodb.storage">Pinnable</a></code></dd>
</dl>
</li>
</ul>
<a name="getExternalReference--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExternalReference</h4>
<pre>public&nbsp;<a href="../../../../edu/caltech/nanodb/storage/FilePointer.html" title="class in edu.caltech.nanodb.storage">FilePointer</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.179">getExternalReference</a>()</pre>
<div class="block">This method returns an external reference to the tuple, which can be
 stored and used to look up this tuple.  The external reference is
 represented as a file-pointer.  The default implementation simply returns
 a file-pointer to the tuple-data itself, but specific storage formats may
 introduce a level of indirection into external references.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/relations/Tuple.html#getExternalReference--">getExternalReference</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/relations/Tuple.html" title="interface in edu.caltech.nanodb.relations">Tuple</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a file-pointer that can be used to look up this tuple</dd>
</dl>
</li>
</ul>
<a name="getDBPage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDBPage</h4>
<pre>public&nbsp;<a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage">DBPage</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.184">getDBPage</a>()</pre>
</li>
</ul>
<a name="getOffset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOffset</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.189">getOffset</a>()</pre>
</li>
</ul>
<a name="getEndOffset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEndOffset</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.194">getEndOffset</a>()</pre>
</li>
</ul>
<a name="getSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSize</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.204">getSize</a>()</pre>
<div class="block">Returns the storage-size of the tuple in bytes.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the storage-size of the tuple in bytes.</dd>
</dl>
</li>
</ul>
<a name="getSchema--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSchema</h4>
<pre>public&nbsp;<a href="../../../../edu/caltech/nanodb/relations/Schema.html" title="class in edu.caltech.nanodb.relations">Schema</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.209">getSchema</a>()</pre>
</li>
</ul>
<a name="checkColumnIndex-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkColumnIndex</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.223">checkColumnIndex</a>(int&nbsp;colIndex)</pre>
<div class="block">This helper method checks the column index for being in the proper
 range of values.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>colIndex</code> - the column index to check</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the specified column
         index is out of range.</dd>
</dl>
</li>
</ul>
<a name="getColumnCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getColumnCount</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.235">getColumnCount</a>()</pre>
<div class="block">Returns the number of attributes in the tuple.  Note that this value
 may be zero.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/relations/Tuple.html#getColumnCount--">getColumnCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/relations/Tuple.html" title="interface in edu.caltech.nanodb.relations">Tuple</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a count of the number of columns in the tuple.</dd>
</dl>
</li>
</ul>
<a name="getNullFlag-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNullFlag</h4>
<pre>private&nbsp;boolean&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.251">getNullFlag</a>(int&nbsp;colIndex)</pre>
<div class="block">This is a helper function to find out the current value of a column's
 <tt>NULL</tt> flag.  It is not intended to be used to determine if a
 column's value is <tt>NULL</tt> since the method does a lot of work;
 instead, use the <a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#isNullValue-int-"><code>isNullValue(int)</code></a> method which relies on cached
 column information.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>colIndex</code> - the index of the column to retrieve the null-flag for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><tt>true</tt> if the column is null, or <tt>false</tt> otherwise</dd>
</dl>
</li>
</ul>
<a name="setNullFlag-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNullFlag</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.276">setNullFlag</a>(int&nbsp;colIndex,
                         boolean&nbsp;value)</pre>
<div class="block">This is a helper function to set or clear the value of a column's NULL
 flag.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>colIndex</code> - the index of the column to retrieve the null-flag for</dd>
<dd><code>value</code> - <tt>true</tt> if the column is null, or <tt>false</tt>
        otherwise</dd>
</dl>
</li>
</ul>
<a name="getDataStartOffset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataStartOffset</h4>
<pre>private&nbsp;int&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.303">getDataStartOffset</a>()</pre>
<div class="block">Returns the offset where the tuple's data actually starts.  This is
 past the bytes used to store NULL-flags.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the starting index of the tuple's data</dd>
</dl>
</li>
</ul>
<a name="computeValueOffsets--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeValueOffsets</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.316">computeValueOffsets</a>()</pre>
<div class="block">This helper function computes and caches the offset of each column
 value in the tuple.  If a column has a <tt>NULL</tt> value then
 <a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#NULL_OFFSET"><code>NULL_OFFSET</code></a> is used for the offset.</div>
</li>
</ul>
<a name="getColumnValueSize-edu.caltech.nanodb.relations.ColumnType-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getColumnValueSize</h4>
<pre>private&nbsp;int&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.353">getColumnValueSize</a>(<a href="../../../../edu/caltech/nanodb/relations/ColumnType.html" title="class in edu.caltech.nanodb.relations">ColumnType</a>&nbsp;colType,
                               int&nbsp;valueOffset)</pre>
<div class="block">Returns the number of bytes used by the column-value at the specified
 offset, with the specified type.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>colType</code> - the column type, which includes both the basic SQL data
        type (e.g. <tt>VARCHAR</tt>) and the size/length of the column's
        type.</dd>
<dd><code>valueOffset</code> - the offset in the data where the column's value
        actually starts</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the total number of bytes used by the column-value</dd>
</dl>
</li>
</ul>
<a name="isNullValue-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isNullValue</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.371">isNullValue</a>(int&nbsp;colIndex)</pre>
<div class="block">Returns true if the specified column is currently set to the SQL
 <tt>NULL</tt> value.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/relations/Tuple.html#isNullValue-int-">isNullValue</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/relations/Tuple.html" title="interface in edu.caltech.nanodb.relations">Tuple</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>colIndex</code> - the index of the column to check for <tt>NULL</tt>ness.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><tt>true</tt> if the specified column is currently set to
         <tt>NULL</tt>, or <tt>false</tt> otherwise.</dd>
</dl>
</li>
</ul>
<a name="getColumnValue-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getColumnValue</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.393">getColumnValue</a>(int&nbsp;colIndex)</pre>
<div class="block">Returns the specified column's value as an <code>Object</code>
 reference.  The actual type of the object depends on the column type,
 and follows this mapping:
 <ul>
   <li><tt>INTEGER</tt> produces <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang"><code>Integer</code></a></li>
   <li><tt>SMALLINT</tt> produces <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Short.html?is-external=true" title="class or interface in java.lang"><code>Short</code></a></li>
   <li><tt>BIGINT</tt> produces <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang"><code>Long</code></a></li>
   <li><tt>TINYINT</tt> produces <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Byte.html?is-external=true" title="class or interface in java.lang"><code>Byte</code></a></li>
   <li><tt>FLOAT</tt> produces <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html?is-external=true" title="class or interface in java.lang"><code>Float</code></a></li>
   <li><tt>DOUBLE</tt> produces <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html?is-external=true" title="class or interface in java.lang"><code>Double</code></a></li>
   <li><tt>CHAR(<em>n</em>)</tt> produces <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang"><code>String</code></a></li>
   <li><tt>VARCHAR(<em>n</em>)</tt> produces <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang"><code>String</code></a></li>
   <li><tt>FILE_POINTER</tt> (internal) produces <a href="../../../../edu/caltech/nanodb/storage/FilePointer.html" title="class in edu.caltech.nanodb.storage"><code>FilePointer</code></a></li>
 </ul></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/relations/Tuple.html#getColumnValue-int-">getColumnValue</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/relations/Tuple.html" title="interface in edu.caltech.nanodb.relations">Tuple</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>colIndex</code> - the index of the column to retrieve the value for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the value of the column, or <tt>null</tt> if the column is
         <tt>NULL</tt>.</dd>
</dl>
</li>
</ul>
<a name="setColumnValue-int-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setColumnValue</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.459">setColumnValue</a>(int&nbsp;colIndex,
                           <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;value)</pre>
<div class="block">Sets the column to the specified value, or <tt>NULL</tt> if the value is
 the Java <tt>null</tt> value.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/relations/Tuple.html#setColumnValue-int-java.lang.Object-">setColumnValue</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/relations/Tuple.html" title="interface in edu.caltech.nanodb.relations">Tuple</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>colIndex</code> - The index of the column to set.</dd>
<dd><code>value</code> - the value to set the column to, or <tt>null</tt> if the
        column should be set to the SQL <tt>NULL</tt> value.</dd>
</dl>
</li>
</ul>
<a name="setNullColumnValue-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNullColumnValue</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.480">setNullColumnValue</a>(int&nbsp;iCol)</pre>
<div class="block">This helper function is used by the <a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#setColumnValue-int-java.lang.Object-"><code>setColumnValue(int, java.lang.Object)</code></a> method in
 the specific case when a column is being set to the SQL <tt>NULL</tt>
 value.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>iCol</code> - the index of the column to set to <tt>NULL</tt></dd>
</dl>
</li>
</ul>
<a name="setNonNullColumnValue-int-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNonNullColumnValue</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.518">setNonNullColumnValue</a>(int&nbsp;iCol,
                                   <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;value)</pre>
<div class="block">This helper function is used by the <a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#setColumnValue-int-java.lang.Object-"><code>setColumnValue(int, java.lang.Object)</code></a> method in
 the specific case when a column is being set to a non-<tt>NULL</tt>
 value.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>iCol</code> - The index of the column to set.</dd>
<dd><code>value</code> - the value to set the column to.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the specified value is <code>null</code></dd>
</dl>
</li>
</ul>
<a name="getNullFlagsSize-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNullFlagsSize</h4>
<pre>public static&nbsp;int&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.563">getNullFlagsSize</a>(int&nbsp;numCols)</pre>
<div class="block">This method computes and returns the number of bytes that are used to
 store the null-flags in each tuple.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>numCols</code> - the total number of columns in the table</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of bytes used for the null-bitmap.</dd>
<dt><span class="simpleTagLabel">Review:</span></dt>
<dd>(donnie) This is really a table-file-level computation, not a
         tuple-level computation.</dd>
</dl>
</li>
</ul>
<a name="getStorageSize-edu.caltech.nanodb.relations.ColumnType-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStorageSize</h4>
<pre>public static&nbsp;int&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.591">getStorageSize</a>(<a href="../../../../edu/caltech/nanodb/relations/ColumnType.html" title="class in edu.caltech.nanodb.relations">ColumnType</a>&nbsp;colType,
                                 int&nbsp;dataLength)</pre>
<div class="block">Returns the storage size of a particular column's (non-<tt>NULL</tt>)
 value, in bytes.  The length of the value is required in cases where
 the column value can be variable size, such as if the type is a
 <tt>VARCHAR</tt>.  Note that the data-length is actually <em>not</em>
 required when the type is <tt>CHAR</tt>, since <tt>CHAR</tt> fields
 always have a specific size.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>colType</code> - the column's data type</dd>
<dd><code>dataLength</code> - for column-types that specify a length, this is the
        length value.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the storage size of the data in bytes</dd>
</dl>
</li>
</ul>
<a name="getTupleStorageSize-edu.caltech.nanodb.relations.Schema-edu.caltech.nanodb.relations.Tuple-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTupleStorageSize</h4>
<pre>public static&nbsp;int&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.659">getTupleStorageSize</a>(<a href="../../../../edu/caltech/nanodb/relations/Schema.html" title="class in edu.caltech.nanodb.relations">Schema</a>&nbsp;schema,
                                      <a href="../../../../edu/caltech/nanodb/relations/Tuple.html" title="interface in edu.caltech.nanodb.relations">Tuple</a>&nbsp;tuple)</pre>
<div class="block">This helper function takes a tuple (from an arbitrary source) and
 computes how much space it would require to be stored in a heap table
 file with the specified schema.  This is used to insert new tuples into
 a table file by computing how much space will be needed, so that an
 appropriate page can be found.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>schema</code> - the schema of the tuple</dd>
<dd><code>tuple</code> - the tuple to compute the storage size for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the total size for storing the tuple's data in bytes</dd>
<dt><span class="simpleTagLabel">Review:</span></dt>
<dd>(donnie) It doesn't make sense to have this be a non-static
         method, since a page-tuple references a specific tuple, not a
         data page.  However, having this as a static method on this
         class doesn't seem too bad.</dd>
</dl>
</li>
</ul>
<a name="storeTuple-edu.caltech.nanodb.storage.DBPage-int-edu.caltech.nanodb.relations.Schema-edu.caltech.nanodb.relations.Tuple-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeTuple</h4>
<pre>public static&nbsp;int&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.695">storeTuple</a>(<a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage">DBPage</a>&nbsp;dbPage,
                             int&nbsp;pageOffset,
                             <a href="../../../../edu/caltech/nanodb/relations/Schema.html" title="class in edu.caltech.nanodb.relations">Schema</a>&nbsp;schema,
                             <a href="../../../../edu/caltech/nanodb/relations/Tuple.html" title="interface in edu.caltech.nanodb.relations">Tuple</a>&nbsp;tuple)</pre>
</li>
</ul>
<a name="setNullFlag-edu.caltech.nanodb.storage.DBPage-int-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNullFlag</h4>
<pre>public static&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.742">setNullFlag</a>(<a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage">DBPage</a>&nbsp;dbPage,
                               int&nbsp;tupleStart,
                               int&nbsp;colIndex,
                               boolean&nbsp;value)</pre>
<div class="block">This is a helper function to set or clear the value of a column's
 <tt>NULL</tt> flag.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dbPage</code> - the file-page that the value will be written into</dd>
<dd><code>tupleStart</code> - the byte-offset in the page where the tuple starts</dd>
<dd><code>colIndex</code> - the index of the column to set the null-flag for</dd>
<dd><code>value</code> - the new value for the null-flag</dd>
</dl>
</li>
</ul>
<a name="writeNonNullValue-edu.caltech.nanodb.storage.DBPage-int-edu.caltech.nanodb.relations.ColumnType-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeNonNullValue</h4>
<pre>public static&nbsp;int&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.782">writeNonNullValue</a>(<a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage">DBPage</a>&nbsp;dbPage,
                                    int&nbsp;offset,
                                    <a href="../../../../edu/caltech/nanodb/relations/ColumnType.html" title="class in edu.caltech.nanodb.relations">ColumnType</a>&nbsp;colType,
                                    <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;value)</pre>
<div class="block">This helper function is used by the <a href="../../../../edu/caltech/nanodb/storage/PageTuple.html#setColumnValue-int-java.lang.Object-"><code>setColumnValue(int, java.lang.Object)</code></a> method in
 the specific case when a column is being set to a non-<tt>NULL</tt>
 value.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dbPage</code> - the file-page that the value will be written into</dd>
<dd><code>offset</code> - the actual byte-offset in the page where the value is
        written to</dd>
<dd><code>colType</code> - the type of the column that the value is being written for</dd>
<dd><code>value</code> - the non-<tt>null</tt> value to store</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of bytes written for the specified value.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if <tt>dbPage</tt> is <tt>null</tt>, or if
         <tt>value</tt> is <tt>null</tt>.</dd>
</dl>
</li>
</ul>
<a name="insertTupleDataRange-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertTupleDataRange</h4>
<pre>protected abstract&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.788">insertTupleDataRange</a>(int&nbsp;off,
                                             int&nbsp;len)</pre>
</li>
</ul>
<a name="deleteTupleDataRange-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteTupleDataRange</h4>
<pre>protected abstract&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.791">deleteTupleDataRange</a>(int&nbsp;off,
                                             int&nbsp;len)</pre>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/PageTuple.html#line.795">toString</a>()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../edu/caltech/nanodb/storage/PageReader.html" title="class in edu.caltech.nanodb.storage"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../edu/caltech/nanodb/storage/PageWriter.html" title="class in edu.caltech.nanodb.storage"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?edu/caltech/nanodb/storage/PageTuple.html" target="_top">Frames</a></li>
<li><a href="PageTuple.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
