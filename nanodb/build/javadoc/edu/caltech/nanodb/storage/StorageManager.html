<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_111) on Wed Jan 18 13:25:14 PST 2017 -->
<title>StorageManager (NanoDB)</title>
<meta name="date" content="2017-01-18">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="StorageManager (NanoDB)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":9,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../edu/caltech/nanodb/storage/StorageException.html" title="class in edu.caltech.nanodb.storage"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../edu/caltech/nanodb/storage/StorageManager.StoragePropertyHandler.html" title="class in edu.caltech.nanodb.storage"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?edu/caltech/nanodb/storage/StorageManager.html" target="_top">Frames</a></li>
<li><a href="StorageManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.caltech.nanodb.storage</div>
<h2 title="Class StorageManager" class="title">Class StorageManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>edu.caltech.nanodb.storage.StorageManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.31">StorageManager</a>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<dl>
<dt><span class="simpleTagLabel">To Do:</span></dt>
<dd>This class requires synchronization, once we support multiple clients.</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.StoragePropertyHandler.html" title="class in edu.caltech.nanodb.storage">StorageManager.StoragePropertyHandler</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#baseDir">baseDir</a></span></code>
<div class="block">The base directory, in which all database files are stored.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../edu/caltech/nanodb/storage/BufferManager.html" title="class in edu.caltech.nanodb.storage">BufferManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#bufferManager">bufferManager</a></span></code>
<div class="block">The buffer manager stores data pages in memory, to avoid disk IOs.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#DEFAULT_BASEDIR_PATH">DEFAULT_BASEDIR_PATH</a></span></code>
<div class="block">The default base-directory path used by the storage manager.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#ENABLE_INDEXES">ENABLE_INDEXES</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#ENABLE_TRANSACTIONS">ENABLE_TRANSACTIONS</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage">FileManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#fileManager">fileManager</a></span></code>
<div class="block">The file manager performs basic operations against the filesystem,
 without performing any buffering whatsoever.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../edu/caltech/nanodb/indexes/IndexManager.html" title="interface in edu.caltech.nanodb.indexes">IndexManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#indexManager">indexManager</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#initialized">initialized</a></span></code>
<div class="block">A flag recording whether the Storage Manager instance has been
 initialized.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Logger.html?is-external=true" title="class or interface in org.apache.log4j">Logger</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#logger">logger</a></span></code>
<div class="block">A logging object for reporting anything interesting that happens.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#PROP_BASEDIR">PROP_BASEDIR</a></span></code>
<div class="block">The system property that can be used to specify the base-directory path
 for the storage manager to use.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#PROP_PAGESIZE">PROP_PAGESIZE</a></span></code>
<div class="block">The system property that can be used to specify the default page-size
 to use when creating new database files.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../edu/caltech/nanodb/server/NanoDBServer.html" title="class in edu.caltech.nanodb.server">NanoDBServer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#server">server</a></span></code>
<div class="block">The database server that this storage manager is a part of.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../edu/caltech/nanodb/storage/TableManager.html" title="interface in edu.caltech.nanodb.storage">TableManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#tableManager">tableManager</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../edu/caltech/nanodb/transactions/TransactionManager.html" title="class in edu.caltech.nanodb.transactions">TransactionManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#transactionManager">transactionManager</a></span></code>
<div class="block">If transactions are enabled, this will be the singleton transaction
 manager instance; otherwise, it will be <code>null</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="../../../../edu/caltech/nanodb/storage/DBFileType.html" title="enum in edu.caltech.nanodb.storage">DBFileType</a>,<a href="../../../../edu/caltech/nanodb/storage/TupleFileManager.html" title="interface in edu.caltech.nanodb.storage">TupleFileManager</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#tupleFileManagers">tupleFileManagers</a></span></code>
<div class="block">This mapping is used to keep track of the tuple-file managers for all
 the kinds of tuple-files we support.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#StorageManager--">StorageManager</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#closeDBFile-edu.caltech.nanodb.storage.DBFile-">closeDBFile</a></span>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#createDBFile-java.lang.String-edu.caltech.nanodb.storage.DBFileType-">createDBFile</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename,
            <a href="../../../../edu/caltech/nanodb/storage/DBFileType.html" title="enum in edu.caltech.nanodb.storage">DBFileType</a>&nbsp;type)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#flushAllData--">flushAllData</a></span>()</code>
<div class="block">This method allows all data to be flushed from the Buffer Manager.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#getBaseDir--">getBaseDir</a></span>()</code>
<div class="block">Returns the base directory where all database files are stored.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../edu/caltech/nanodb/storage/BufferManager.html" title="class in edu.caltech.nanodb.storage">BufferManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#getBufferManager--">getBufferManager</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#getCurrentPageSize--">getCurrentPageSize</a></span>()</code>
<div class="block">Returns the current page size to use for new database files.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage">FileManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#getFileManager--">getFileManager</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../edu/caltech/nanodb/indexes/IndexManager.html" title="interface in edu.caltech.nanodb.indexes">IndexManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#getIndexManager--">getIndexManager</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../edu/caltech/nanodb/storage/TableManager.html" title="interface in edu.caltech.nanodb.storage">TableManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#getTableManager--">getTableManager</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../edu/caltech/nanodb/transactions/TransactionManager.html" title="class in edu.caltech.nanodb.transactions">TransactionManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#getTransactionManager--">getTransactionManager</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../../edu/caltech/nanodb/storage/TupleFileManager.html" title="interface in edu.caltech.nanodb.storage">TupleFileManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#getTupleFileManager-edu.caltech.nanodb.storage.DBFileType-">getTupleFileManager</a></span>(<a href="../../../../edu/caltech/nanodb/storage/DBFileType.html" title="enum in edu.caltech.nanodb.storage">DBFileType</a>&nbsp;type)</code>
<div class="block">Returns the tuple-file manager for the specified file type.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#initialize-edu.caltech.nanodb.server.NanoDBServer-java.io.File-">initialize</a></span>(<a href="../../../../edu/caltech/nanodb/server/NanoDBServer.html" title="class in edu.caltech.nanodb.server">NanoDBServer</a>&nbsp;server,
          <a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;baseDir)</code>
<div class="block">This method initializes the storage manager.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage">DBPage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#loadDBPage-edu.caltech.nanodb.storage.DBFile-int-">loadDBPage</a></span>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile,
          int&nbsp;pageNo)</code>
<div class="block">This method returns a database page to use, retrieving it from the buffer
 manager if it is already loaded, or reading it from the specified data
 file if it is not already loaded.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage">DBPage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#loadDBPage-edu.caltech.nanodb.storage.DBFile-int-boolean-">loadDBPage</a></span>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile,
          int&nbsp;pageNo,
          boolean&nbsp;create)</code>
<div class="block">This method returns a database page to use, retrieving it from the buffer
 manager if it is already loaded, or reading it from the specified data
 file if it is not already loaded.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#logDBPageWrite-edu.caltech.nanodb.storage.DBPage-">logDBPageWrite</a></span>(<a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage">DBPage</a>&nbsp;dbPage)</code>
<div class="block">This method causes any changes to the specified page to be logged by
 the transaction manager's write-ahead log, so that the changes can be
 redone or undone as may be appropriate.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#openDBFile-java.lang.String-">openDBFile</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename)</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="../../../../edu/caltech/nanodb/storage/TupleFile.html" title="interface in edu.caltech.nanodb.storage">TupleFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#openTupleFile-java.lang.String-">openTupleFile</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename)</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#shutdown--">shutdown</a></span>()</code>
<div class="block">This method shuts down the storage manager.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logger</h4>
<pre>private static&nbsp;<a href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Logger.html?is-external=true" title="class or interface in org.apache.log4j">Logger</a> <a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.34">logger</a></pre>
<div class="block">A logging object for reporting anything interesting that happens.</div>
</li>
</ul>
<a name="ENABLE_TRANSACTIONS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ENABLE_TRANSACTIONS</h4>
<pre>public static final&nbsp;boolean <a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.42">ENABLE_TRANSACTIONS</a></pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#edu.caltech.nanodb.storage.StorageManager.ENABLE_TRANSACTIONS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ENABLE_INDEXES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ENABLE_INDEXES</h4>
<pre>public static final&nbsp;boolean <a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.45">ENABLE_INDEXES</a></pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#edu.caltech.nanodb.storage.StorageManager.ENABLE_INDEXES">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="PROP_BASEDIR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PROP_BASEDIR</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.52">PROP_BASEDIR</a></pre>
<div class="block">The system property that can be used to specify the base-directory path
 for the storage manager to use.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#edu.caltech.nanodb.storage.StorageManager.PROP_BASEDIR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="PROP_PAGESIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PROP_PAGESIZE</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.59">PROP_PAGESIZE</a></pre>
<div class="block">The system property that can be used to specify the default page-size
 to use when creating new database files.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#edu.caltech.nanodb.storage.StorageManager.PROP_PAGESIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DEFAULT_BASEDIR_PATH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_BASEDIR_PATH</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.67">DEFAULT_BASEDIR_PATH</a></pre>
<div class="block">The default base-directory path used by the storage manager.  This
 value is set to "<tt>./datafiles</tt>" (or "<tt>.\datafiles</tt>"
 if on Windows).</div>
</li>
</ul>
<a name="server">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>server</h4>
<pre>private&nbsp;<a href="../../../../edu/caltech/nanodb/server/NanoDBServer.html" title="class in edu.caltech.nanodb.server">NanoDBServer</a> <a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.154">server</a></pre>
<div class="block">The database server that this storage manager is a part of.  It
 provides a number of the components that the storage manager depends
 on, such as the event dispatcher and property registry.</div>
</li>
</ul>
<a name="baseDir">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>baseDir</h4>
<pre>private&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a> <a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.158">baseDir</a></pre>
<div class="block">The base directory, in which all database files are stored.</div>
</li>
</ul>
<a name="initialized">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialized</h4>
<pre>private&nbsp;boolean <a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.165">initialized</a></pre>
<div class="block">A flag recording whether the Storage Manager instance has been
 initialized.</div>
</li>
</ul>
<a name="bufferManager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bufferManager</h4>
<pre>private&nbsp;<a href="../../../../edu/caltech/nanodb/storage/BufferManager.html" title="class in edu.caltech.nanodb.storage">BufferManager</a> <a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.169">bufferManager</a></pre>
<div class="block">The buffer manager stores data pages in memory, to avoid disk IOs.</div>
</li>
</ul>
<a name="fileManager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fileManager</h4>
<pre>private&nbsp;<a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage">FileManager</a> <a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.176">fileManager</a></pre>
<div class="block">The file manager performs basic operations against the filesystem,
 without performing any buffering whatsoever.</div>
</li>
</ul>
<a name="transactionManager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transactionManager</h4>
<pre>private&nbsp;<a href="../../../../edu/caltech/nanodb/transactions/TransactionManager.html" title="class in edu.caltech.nanodb.transactions">TransactionManager</a> <a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.183">transactionManager</a></pre>
<div class="block">If transactions are enabled, this will be the singleton transaction
 manager instance; otherwise, it will be <code>null</code>.</div>
</li>
</ul>
<a name="tableManager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tableManager</h4>
<pre>private&nbsp;<a href="../../../../edu/caltech/nanodb/storage/TableManager.html" title="interface in edu.caltech.nanodb.storage">TableManager</a> <a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.186">tableManager</a></pre>
</li>
</ul>
<a name="indexManager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexManager</h4>
<pre>private&nbsp;<a href="../../../../edu/caltech/nanodb/indexes/IndexManager.html" title="interface in edu.caltech.nanodb.indexes">IndexManager</a> <a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.189">indexManager</a></pre>
</li>
</ul>
<a name="tupleFileManagers">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>tupleFileManagers</h4>
<pre>private&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="../../../../edu/caltech/nanodb/storage/DBFileType.html" title="enum in edu.caltech.nanodb.storage">DBFileType</a>,<a href="../../../../edu/caltech/nanodb/storage/TupleFileManager.html" title="interface in edu.caltech.nanodb.storage">TupleFileManager</a>&gt; <a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.196">tupleFileManagers</a></pre>
<div class="block">This mapping is used to keep track of the tuple-file managers for all
 the kinds of tuple-files we support.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="StorageManager--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>StorageManager</h4>
<pre>public&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.31">StorageManager</a>()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getCurrentPageSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentPageSize</h4>
<pre>public static&nbsp;int&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.79">getCurrentPageSize</a>()</pre>
<div class="block">Returns the current page size to use for new database files.  If the
 <tt>nanodb.pagesize</tt> system property is a valid page size then this
 value is used.  Otherwise, the <a href="../../../../edu/caltech/nanodb/storage/DBFile.html#DEFAULT_PAGESIZE"><code>DBFile.DEFAULT_PAGESIZE</code></a> value is
 used.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current page size to use for new database files</dd>
</dl>
</li>
</ul>
<a name="initialize-edu.caltech.nanodb.server.NanoDBServer-java.io.File-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.208">initialize</a>(<a href="../../../../edu/caltech/nanodb/server/NanoDBServer.html" title="class in edu.caltech.nanodb.server">NanoDBServer</a>&nbsp;server,
                       <a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;baseDir)
                throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">This method initializes the storage manager.  It should only be called
 once.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if <tt>init()</tt> has already been called</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the storage manager cannot access the data
         directory for some reason</dd>
</dl>
</li>
</ul>
<a name="shutdown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.292">shutdown</a>()
              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">This method shuts down the storage manager.  It should only be called
 once.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if <tt>init()</tt> has not been called</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the storage manager cannot save all data for some
         reason</dd>
</dl>
</li>
</ul>
<a name="getBaseDir--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBaseDir</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.319">getBaseDir</a>()</pre>
<div class="block">Returns the base directory where all database files are stored.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the base directory where all database files are stored</dd>
</dl>
</li>
</ul>
<a name="getFileManager--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFileManager</h4>
<pre>public&nbsp;<a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage">FileManager</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.324">getFileManager</a>()</pre>
</li>
</ul>
<a name="getBufferManager--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBufferManager</h4>
<pre>public&nbsp;<a href="../../../../edu/caltech/nanodb/storage/BufferManager.html" title="class in edu.caltech.nanodb.storage">BufferManager</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.329">getBufferManager</a>()</pre>
</li>
</ul>
<a name="getTransactionManager--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransactionManager</h4>
<pre>public&nbsp;<a href="../../../../edu/caltech/nanodb/transactions/TransactionManager.html" title="class in edu.caltech.nanodb.transactions">TransactionManager</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.334">getTransactionManager</a>()</pre>
</li>
</ul>
<a name="createDBFile-java.lang.String-edu.caltech.nanodb.storage.DBFileType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createDBFile</h4>
<pre>public&nbsp;<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.339">createDBFile</a>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename,
                           <a href="../../../../edu/caltech/nanodb/storage/DBFileType.html" title="enum in edu.caltech.nanodb.storage">DBFileType</a>&nbsp;type)
                    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="openDBFile-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openDBFile</h4>
<pre>public&nbsp;<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.356">openDBFile</a>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename)
                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="openTupleFile-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openTupleFile</h4>
<pre>public&nbsp;<a href="../../../../edu/caltech/nanodb/storage/TupleFile.html" title="interface in edu.caltech.nanodb.storage">TupleFile</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.367">openTupleFile</a>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename)
                        throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="closeDBFile-edu.caltech.nanodb.storage.DBFile-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeDBFile</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.381">closeDBFile</a>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile)
                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="getTableManager--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableManager</h4>
<pre>public&nbsp;<a href="../../../../edu/caltech/nanodb/storage/TableManager.html" title="interface in edu.caltech.nanodb.storage">TableManager</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.387">getTableManager</a>()</pre>
</li>
</ul>
<a name="getIndexManager--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexManager</h4>
<pre>public&nbsp;<a href="../../../../edu/caltech/nanodb/indexes/IndexManager.html" title="interface in edu.caltech.nanodb.indexes">IndexManager</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.392">getIndexManager</a>()</pre>
</li>
</ul>
<a name="getTupleFileManager-edu.caltech.nanodb.storage.DBFileType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTupleFileManager</h4>
<pre>public&nbsp;<a href="../../../../edu/caltech/nanodb/storage/TupleFileManager.html" title="interface in edu.caltech.nanodb.storage">TupleFileManager</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.407">getTupleFileManager</a>(<a href="../../../../edu/caltech/nanodb/storage/DBFileType.html" title="enum in edu.caltech.nanodb.storage">DBFileType</a>&nbsp;type)</pre>
<div class="block">Returns the tuple-file manager for the specified file type.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - the database file type to get the tuple-file manager for.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the tuple-file manager instance for the specified file type</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the file-type is <tt>null</tt>, or
         if the file-type is currently unsupported.</dd>
</dl>
</li>
</ul>
<a name="loadDBPage-edu.caltech.nanodb.storage.DBFile-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadDBPage</h4>
<pre>public&nbsp;<a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage">DBPage</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.446">loadDBPage</a>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile,
                         int&nbsp;pageNo,
                         boolean&nbsp;create)
                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">This method returns a database page to use, retrieving it from the buffer
 manager if it is already loaded, or reading it from the specified data
 file if it is not already loaded.  If the page must be loaded from the
 file, it will be added to the buffer manager.  This operation may cause
 other database pages to be evicted from the buffer manager, and written
 back to disk if the evicted pages are dirty.
 <p>
 The <tt>create</tt> flag controls whether an error is propagated, if the
 requested page is past the current end of the data file.  (Note that if a
 new page is created, the file's size will not reflect the new page until
 it is actually written to the file.)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dbFile</code> - the database file to load the page from</dd>
<dd><code>pageNo</code> - the number of the page to load</dd>
<dd><code>create</code> - a flag specifying whether the page should be created if it
        doesn't already exist</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the database page, either from cache or from the data file</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the page number is negative</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/EOFException.html?is-external=true" title="class or interface in java.io">EOFException</a></code> - if the requested page is not in the data file,
         and the <tt>create</tt> flag is set to <tt>false</tt>.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="loadDBPage-edu.caltech.nanodb.storage.DBFile-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadDBPage</h4>
<pre>public&nbsp;<a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage">DBPage</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.493">loadDBPage</a>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile,
                         int&nbsp;pageNo)
                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">This method returns a database page to use, retrieving it from the buffer
 manager if it is already loaded, or reading it from the specified data
 file if it is not already loaded.  If the page must be loaded from the
 file, it will be added to the buffer manager.  This operation may cause
 other database pages to be evicted from the buffer manager, and written
 back to disk if the evicted pages are dirty.
 <p>
 (This method is simply a wrapper of
 <a href="../../../../edu/caltech/nanodb/storage/StorageManager.html#loadDBPage-edu.caltech.nanodb.storage.DBFile-int-boolean-"><code>loadDBPage(DBFile, int, boolean)</code></a>, passing <tt>false</tt> for
 <tt>create</tt>.)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dbFile</code> - the database file to load the page from</dd>
<dd><code>pageNo</code> - the number of the page to load</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the database page, either from cache or from the data file</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the page number is negative</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/EOFException.html?is-external=true" title="class or interface in java.io">EOFException</a></code> - if the requested page is not in the data file,
         and the <tt>create</tt> flag is set to <tt>false</tt>.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="logDBPageWrite-edu.caltech.nanodb.storage.DBPage-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logDBPageWrite</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.507">logDBPageWrite</a>(<a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage">DBPage</a>&nbsp;dbPage)
                    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">This method causes any changes to the specified page to be logged by
 the transaction manager's write-ahead log, so that the changes can be
 redone or undone as may be appropriate.  Once the page's changes have
 been logged, the <a href="../../../../edu/caltech/nanodb/storage/DBPage.html#syncOldPageData--"><code>DBPage.syncOldPageData()</code></a> method is called on
 the page, since the page's changes have been recorded in the WAL.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dbPage</code> - the page to record changes for</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="flushAllData--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>flushAllData</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/StorageManager.html#line.523">flushAllData</a>()
                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">This method allows all data to be flushed from the Buffer Manager.  It
 should not be used in practice, but it is useful to remove buffering to
 expose performance issues in the storage layer.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../edu/caltech/nanodb/storage/BufferManager.html#flushAll--"><code>BufferManager.flushAll()</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../edu/caltech/nanodb/storage/StorageException.html" title="class in edu.caltech.nanodb.storage"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../edu/caltech/nanodb/storage/StorageManager.StoragePropertyHandler.html" title="class in edu.caltech.nanodb.storage"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?edu/caltech/nanodb/storage/StorageManager.html" target="_top">Frames</a></li>
<li><a href="StorageManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
