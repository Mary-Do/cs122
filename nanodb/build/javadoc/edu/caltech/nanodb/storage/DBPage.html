<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_111) on Wed Jan 18 13:25:14 PST 2017 -->
<title>DBPage (NanoDB)</title>
<meta name="date" content="2017-01-18">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DBPage (NanoDB)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10,"i44":10,"i45":10,"i46":10,"i47":10,"i48":10,"i49":10,"i50":10,"i51":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../edu/caltech/nanodb/storage/DBFileWriter.html" title="class in edu.caltech.nanodb.storage"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?edu/caltech/nanodb/storage/DBPage.html" target="_top">Frames</a></li>
<li><a href="DBPage.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.caltech.nanodb.storage</div>
<h2 title="Class DBPage" class="title">Class DBPage</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>edu.caltech.nanodb.storage.DBPage</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html" title="interface in edu.caltech.nanodb.storage">Pinnable</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></dd>
</dl>
<hr>
<br>
<pre>public class <a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.40">DBPage</a>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../edu/caltech/nanodb/storage/Pinnable.html" title="interface in edu.caltech.nanodb.storage">Pinnable</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></pre>
<div class="block">This class represents a single page in a database file.  The page's
 (zero-based) index in the file, and whether the page has been changed in
 memory, are tracked by the object.
 <p>
 Database pages do not provide any locking mechanisms to guard against
 concurrent access.  Locking must be managed at a level above what this class
 provides.
 <p>
 The class provides methods to read and write a wide range of data types.
 Multibyte values are stored in big-endian format, with the most significant
 byte (MSB) stored at the lowest index, and the least significant byte (LSB)
 stored at the highest index.  (This is also the network byte order specified
 by the Internet Protocol.)</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../edu/caltech/nanodb/storage/PageReader.html" title="class in edu.caltech.nanodb.storage"><code>PageReader</code></a>, 
<a href="../../../../edu/caltech/nanodb/storage/PageWriter.html" title="class in edu.caltech.nanodb.storage"><code>PageWriter</code></a></dd>
<dt><span class="simpleTagLabel">Design note:</span></dt>
<dd>(Donnie) It is very important that the page is marked dirty
         <em>before</em> any changes are made, because this is the point
         when the old version of the page data is copied before changes
         are made.  Additionally, the page's data must not be manipulated
         separately from the methods provided by this class, or else the
         old version of the page won't be recorded properly.</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../edu/caltech/nanodb/storage/BufferManager.html" title="class in edu.caltech.nanodb.storage">BufferManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#bufferManager">bufferManager</a></span></code>
<div class="block">The buffer manager is used by this class to request buffer space when
 needed, so that a maximum cap can be placed on memory usage.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#dbFile">dbFile</a></span></code>
<div class="block">A reference to the database file that this page is from.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#dirty">dirty</a></span></code>
<div class="block">This flag is true if this page has been modified in memory.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Logger.html?is-external=true" title="class or interface in org.apache.log4j">Logger</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#logger">logger</a></span></code>
<div class="block">A logging object for reporting anything interesting that happens.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#oldPageData">oldPageData</a></span></code>
<div class="block">When the page is marked dirty, this gets set to the original version of
 the page, so that we can properly record changes to the write-ahead log.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#pageData">pageData</a></span></code>
<div class="block">The actual data for the table-page.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../edu/caltech/nanodb/storage/writeahead/LogSequenceNumber.html" title="class in edu.caltech.nanodb.storage.writeahead">LogSequenceNumber</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#pageLSN">pageLSN</a></span></code>
<div class="block">For dirty pages, this field is set to the Log Sequence Number of the
 write-ahead log record corresponding to the most recent write to the
 page.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#pageNo">pageNo</a></span></code>
<div class="block">The page number in the table file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#pinCount">pinCount</a></span></code>
<div class="block">The pin-count of this page.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#DBPage-edu.caltech.nanodb.storage.BufferManager-edu.caltech.nanodb.storage.DBFile-int-">DBPage</a></span>(<a href="../../../../edu/caltech/nanodb/storage/BufferManager.html" title="class in edu.caltech.nanodb.storage">BufferManager</a>&nbsp;bufferManager,
      <a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile,
      int&nbsp;pageNo)</code>
<div class="block">Constructs a new, empty table-page for the specified table file.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#close--">close</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#getChangesAsString--">getChangesAsString</a></span>()</code>
<div class="block">This helper method returns a formatted string describing all changes
 made to the page's contents; that is, the differences between the
 <a href="../../../../edu/caltech/nanodb/storage/DBPage.html#pageData"><code>pageData</code></a> and the <a href="../../../../edu/caltech/nanodb/storage/DBPage.html#oldPageData"><code>oldPageData</code></a> byte-arrays.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#getDBFile--">getDBFile</a></span>()</code>
<div class="block">Returns the database file that this page is contained within.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#getOldPageData--">getOldPageData</a></span>()</code>
<div class="block">Returns the byte-array of the page's data at the last point when the page
 became dirty, or <tt>null</tt> if the page is currently clean.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#getPageData--">getPageData</a></span>()</code>
<div class="block">Returns the byte-array of the page's data.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../edu/caltech/nanodb/storage/writeahead/LogSequenceNumber.html" title="class in edu.caltech.nanodb.storage.writeahead">LogSequenceNumber</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#getPageLSN--">getPageLSN</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#getPageNo--">getPageNo</a></span>()</code>
<div class="block">Returns the page-number of this database page.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#getPageSize--">getPageSize</a></span>()</code>
<div class="block">Returns the page size in bytes.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#getPinCount--">getPinCount</a></span>()</code>
<div class="block">Returns the total number of times the object has been pinned.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#invalidate--">invalidate</a></span>()</code>
<div class="block">This method makes the <code>DBPage</code> invalid by clearing all of its
 internal references.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#isDirty--">isDirty</a></span>()</code>
<div class="block">Returns true if the page's data has been changed in memory; false
 otherwise.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#isFromDBFile-edu.caltech.nanodb.storage.DBFile-">isFromDBFile</a></span>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;databaseFile)</code>
<div class="block">Returns true if this page is from the specified database file.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#isPinned--">isPinned</a></span>()</code>
<div class="block">Returns true if the object is currently pinned, false otherwise.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#moveDataRange-int-int-int-">moveDataRange</a></span>(int&nbsp;srcPosition,
             int&nbsp;dstPosition,
             int&nbsp;length)</code>
<div class="block">Move the specified data region in the page.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#pin--">pin</a></span>()</code>
<div class="block">Increase the pin-count on the object by one.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#read-int-byte:A-">read</a></span>(int&nbsp;position,
    byte[]&nbsp;b)</code>
<div class="block">Read a sequence of bytes into the provided byte-array.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#read-int-byte:A-int-int-">read</a></span>(int&nbsp;position,
    byte[]&nbsp;b,
    int&nbsp;off,
    int&nbsp;len)</code>
<div class="block">Read a sequence of bytes into the provided byte-array, starting with
 the specified offset, and reading the specified number of bytes.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#readBoolean-int-">readBoolean</a></span>(int&nbsp;position)</code>
<div class="block">Reads and returns a Boolean value from the specified position.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#readByte-int-">readByte</a></span>(int&nbsp;position)</code>
<div class="block">Reads and returns a signed byte from the specified position.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>char</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#readChar-int-">readChar</a></span>(int&nbsp;position)</code>
<div class="block">Reads and returns a two-byte char value from the specified position.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#readDouble-int-">readDouble</a></span>(int&nbsp;position)</code>&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#readFixedSizeString-int-int-">readFixedSizeString</a></span>(int&nbsp;position,
                   int&nbsp;len)</code>
<div class="block">This method reads and returns a string whose length is fixed at a
 constant size.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#readFloat-int-">readFloat</a></span>(int&nbsp;position)</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#readInt-int-">readInt</a></span>(int&nbsp;position)</code>
<div class="block">Reads and returns a 4-byte integer value from the specified position.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#readLong-int-">readLong</a></span>(int&nbsp;position)</code>
<div class="block">Reads and returns an 8-byte long integer value from the specified
 position.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#readObject-int-edu.caltech.nanodb.relations.ColumnType-">readObject</a></span>(int&nbsp;position,
          <a href="../../../../edu/caltech/nanodb/relations/ColumnType.html" title="class in edu.caltech.nanodb.relations">ColumnType</a>&nbsp;colType)</code>
<div class="block">This method provides a higher-level wrapper around the other methods in
 the <tt>DBPage</tt> class, allowing object-values to be read, as long
 as the data-type is provided along with the object.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>short</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#readShort-int-">readShort</a></span>(int&nbsp;position)</code>
<div class="block">Reads and returns a signed short from the specified position.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#readUnsignedByte-int-">readUnsignedByte</a></span>(int&nbsp;position)</code>
<div class="block">Reads and returns an unsigned byte from the specified position.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#readUnsignedInt-int-">readUnsignedInt</a></span>(int&nbsp;position)</code>
<div class="block">Reads and returns a 4-byte unsigned integer value from the specified
 position.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#readUnsignedShort-int-">readUnsignedShort</a></span>(int&nbsp;position)</code>
<div class="block">Reads and returns an unsigned short from the specified position.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#readVarString255-int-">readVarString255</a></span>(int&nbsp;position)</code>
<div class="block">This method reads and returns a variable-length string whose maximum
 length is 255 bytes.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#readVarString65535-int-">readVarString65535</a></span>(int&nbsp;position)</code>
<div class="block">This method reads and returns a variable-length string whose maximum
 length is 65535 bytes.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#setDataRange-int-int-byte-">setDataRange</a></span>(int&nbsp;position,
            int&nbsp;length,
            byte&nbsp;value)</code>
<div class="block">Write the specified alueMove the specified data region in the page.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#setDirty-boolean-">setDirty</a></span>(boolean&nbsp;dirty)</code>
<div class="block">Sets the dirty flag to true or false, indicating whether the page's data
 has or has not been changed in memory.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#setPageLSN-edu.caltech.nanodb.storage.writeahead.LogSequenceNumber-">setPageLSN</a></span>(<a href="../../../../edu/caltech/nanodb/storage/writeahead/LogSequenceNumber.html" title="class in edu.caltech.nanodb.storage.writeahead">LogSequenceNumber</a>&nbsp;lsn)</code>&nbsp;</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#syncOldPageData--">syncOldPageData</a></span>()</code>
<div class="block">For a dirty page, this method copies the "new page data" into the "old
 page data" so that they are the same.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#toFormattedString--">toFormattedString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#unpin--">unpin</a></span>()</code>
<div class="block">Decrease the pin-count on the object by one.</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#write-int-byte:A-">write</a></span>(int&nbsp;position,
     byte[]&nbsp;b)</code>
<div class="block">Write a sequence of bytes from a byte-array into the page.</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#write-int-byte:A-int-int-">write</a></span>(int&nbsp;position,
     byte[]&nbsp;b,
     int&nbsp;off,
     int&nbsp;len)</code>
<div class="block">Write a sequence of bytes from a byte-array into the page, starting with
 the specified offset in the buffer, and writing the specified number of
 bytes.</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#writeBoolean-int-boolean-">writeBoolean</a></span>(int&nbsp;position,
            boolean&nbsp;value)</code>
<div class="block">Writes a Boolean value to the specified position.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#writeByte-int-int-">writeByte</a></span>(int&nbsp;position,
         int&nbsp;value)</code>
<div class="block">Writes a (signed or unsigned) byte to the specified position.</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#writeChar-int-int-">writeChar</a></span>(int&nbsp;position,
         int&nbsp;value)</code>
<div class="block">Writes a char to the specified position.</div>
</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#writeDouble-int-double-">writeDouble</a></span>(int&nbsp;position,
           double&nbsp;value)</code>&nbsp;</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#writeFixedSizeString-int-java.lang.String-int-">writeFixedSizeString</a></span>(int&nbsp;position,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;value,
                    int&nbsp;len)</code>
<div class="block">This method stores a string whose length is fixed at a constant size.</div>
</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#writeFloat-int-float-">writeFloat</a></span>(int&nbsp;position,
          float&nbsp;value)</code>&nbsp;</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#writeInt-int-int-">writeInt</a></span>(int&nbsp;position,
        int&nbsp;value)</code>
<div class="block">Writes a 4-byte integer to the specified position.</div>
</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#writeLong-int-long-">writeLong</a></span>(int&nbsp;position,
         long&nbsp;value)</code>
<div class="block">Writes an 8-byte long integer to the specified position.</div>
</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#writeObject-int-edu.caltech.nanodb.relations.ColumnType-java.lang.Object-">writeObject</a></span>(int&nbsp;position,
           <a href="../../../../edu/caltech/nanodb/relations/ColumnType.html" title="class in edu.caltech.nanodb.relations">ColumnType</a>&nbsp;colType,
           <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;value)</code>
<div class="block">This method provides a higher-level wrapper around the other methods in
 the <tt>DBPage</tt> class, allowing object-values to be stored, as long
 as the object isn't <tt>null</tt> and the data-type is provided along
 with the object.</div>
</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#writeShort-int-int-">writeShort</a></span>(int&nbsp;position,
          int&nbsp;value)</code>
<div class="block">Writes a (signed or unsigned) short to the specified position.</div>
</td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#writeVarString255-int-java.lang.String-">writeVarString255</a></span>(int&nbsp;position,
                 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;value)</code>
<div class="block">This method stores a variable-length string whose maximum length is
 255 bytes.</div>
</td>
</tr>
<tr id="i51" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/DBPage.html#writeVarString65535-int-java.lang.String-">writeVarString65535</a></span>(int&nbsp;position,
                   <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;value)</code>
<div class="block">This method stores a variable-length string whose maximum length is
 65535 bytes.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logger</h4>
<pre>private static&nbsp;<a href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Logger.html?is-external=true" title="class or interface in org.apache.log4j">Logger</a> <a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.43">logger</a></pre>
<div class="block">A logging object for reporting anything interesting that happens.</div>
</li>
</ul>
<a name="bufferManager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bufferManager</h4>
<pre>private&nbsp;<a href="../../../../edu/caltech/nanodb/storage/BufferManager.html" title="class in edu.caltech.nanodb.storage">BufferManager</a> <a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.50">bufferManager</a></pre>
<div class="block">The buffer manager is used by this class to request buffer space when
 needed, so that a maximum cap can be placed on memory usage.</div>
</li>
</ul>
<a name="dbFile">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dbFile</h4>
<pre>private&nbsp;<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a> <a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.54">dbFile</a></pre>
<div class="block">A reference to the database file that this page is from.</div>
</li>
</ul>
<a name="pageNo">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pageNo</h4>
<pre>private&nbsp;int <a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.60">pageNo</a></pre>
<div class="block">The page number in the table file.  A value of 0 is the first page
 in the file.</div>
</li>
</ul>
<a name="pinCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pinCount</h4>
<pre>private&nbsp;int <a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.68">pinCount</a></pre>
<div class="block">The pin-count of this page.  When nonzero, the page is not allowed to be
 flushed from the buffer manager since the page is being used by at least
 one session.</div>
</li>
</ul>
<a name="dirty">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dirty</h4>
<pre>private&nbsp;boolean <a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.72">dirty</a></pre>
<div class="block">This flag is true if this page has been modified in memory.</div>
</li>
</ul>
<a name="pageLSN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pageLSN</h4>
<pre>private&nbsp;<a href="../../../../edu/caltech/nanodb/storage/writeahead/LogSequenceNumber.html" title="class in edu.caltech.nanodb.storage.writeahead">LogSequenceNumber</a> <a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.82">pageLSN</a></pre>
<div class="block">For dirty pages, this field is set to the Log Sequence Number of the
 write-ahead log record corresponding to the most recent write to the
 page.  When the page is being flushed back to disk, the write-ahead log
 must be written to at least this point, or else the write-ahead logging
 rule will be violated.</div>
</li>
</ul>
<a name="pageData">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pageData</h4>
<pre>private&nbsp;byte[] <a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.86">pageData</a></pre>
<div class="block">The actual data for the table-page.</div>
</li>
</ul>
<a name="oldPageData">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>oldPageData</h4>
<pre>private&nbsp;byte[] <a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.93">oldPageData</a></pre>
<div class="block">When the page is marked dirty, this gets set to the original version of
 the page, so that we can properly record changes to the write-ahead log.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DBPage-edu.caltech.nanodb.storage.BufferManager-edu.caltech.nanodb.storage.DBFile-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DBPage</h4>
<pre>public&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.109">DBPage</a>(<a href="../../../../edu/caltech/nanodb/storage/BufferManager.html" title="class in edu.caltech.nanodb.storage">BufferManager</a>&nbsp;bufferManager,
              <a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile,
              int&nbsp;pageNo)</pre>
<div class="block">Constructs a new, empty table-page for the specified table file.
 Note that the page data is not loaded into the object; that must be
 done in a separate step.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dbFile</code> - The database file that this page is contained within.</dd>
<dd><code>pageNo</code> - The page number within the database file.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if <tt>dbFile</tt> is <tt>null</tt></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <tt>pageNo</tt> is negative</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getDBFile--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDBFile</h4>
<pre>public&nbsp;<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.150">getDBFile</a>()</pre>
<div class="block">Returns the database file that this page is contained within.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the database file that this page is contained within.</dd>
</dl>
</li>
</ul>
<a name="isFromDBFile-edu.caltech.nanodb.storage.DBFile-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isFromDBFile</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.163">isFromDBFile</a>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;databaseFile)</pre>
<div class="block">Returns true if this page is from the specified database file.  This
 function simply uses <a href="../../../../edu/caltech/nanodb/storage/DBFile.html#equals-java.lang.Object-"><code>DBFile.equals(java.lang.Object)</code></a> for the comparison.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>databaseFile</code> - the database file to examine this page for membership</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the specified database file is the same as this DB file.</dd>
</dl>
</li>
</ul>
<a name="getPageNo--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageNo</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.173">getPageNo</a>()</pre>
<div class="block">Returns the page-number of this database page.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the page-number of this database page</dd>
</dl>
</li>
</ul>
<a name="getPageSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageSize</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.183">getPageSize</a>()</pre>
<div class="block">Returns the page size in bytes.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the page-size in bytes</dd>
</dl>
</li>
</ul>
<a name="pin--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pin</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.189">pin</a>()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html#pin--">Pinnable</a></code></span></div>
<div class="block">Increase the pin-count on the object by one.  An object with a nonzero
 pin-count cannot be released because it is in use.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html#pin--">pin</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html" title="interface in edu.caltech.nanodb.storage">Pinnable</a></code></dd>
</dl>
</li>
</ul>
<a name="unpin--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unpin</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.198">unpin</a>()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html#unpin--">Pinnable</a></code></span></div>
<div class="block">Decrease the pin-count on the object by one.  When the pin-count
 reaches zero, the object can be released.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html#unpin--">unpin</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html" title="interface in edu.caltech.nanodb.storage">Pinnable</a></code></dd>
</dl>
</li>
</ul>
<a name="getPinCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPinCount</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.216">getPinCount</a>()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html#getPinCount--">Pinnable</a></code></span></div>
<div class="block">Returns the total number of times the object has been pinned.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html#getPinCount--">getPinCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html" title="interface in edu.caltech.nanodb.storage">Pinnable</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the total number of times the object has been pinned.</dd>
</dl>
</li>
</ul>
<a name="isPinned--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPinned</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.222">isPinned</a>()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html#isPinned--">Pinnable</a></code></span></div>
<div class="block">Returns true if the object is currently pinned, false otherwise.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html#isPinned--">isPinned</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/Pinnable.html" title="interface in edu.caltech.nanodb.storage">Pinnable</a></code></dd>
</dl>
</li>
</ul>
<a name="getPageData--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageData</h4>
<pre>public&nbsp;byte[]&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.234">getPageData</a>()</pre>
<div class="block">Returns the byte-array of the page's data.  <b>Note that if any changes
 are made to the page's data, the dirty-flag must be updated
 appropriately or else the data will not be written back to the file.</b></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a byte-array containing the page's data</dd>
</dl>
</li>
</ul>
<a name="getOldPageData--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOldPageData</h4>
<pre>public&nbsp;byte[]&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.246">getOldPageData</a>()</pre>
<div class="block">Returns the byte-array of the page's data at the last point when the page
 became dirty, or <tt>null</tt> if the page is currently clean.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a byte-array containing the last "clean" version of the page's
         data</dd>
</dl>
</li>
</ul>
<a name="syncOldPageData--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>syncOldPageData</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.259">syncOldPageData</a>()</pre>
<div class="block">For a dirty page, this method copies the "new page data" into the "old
 page data" so that they are the same.  This is necessary when changes are
 recorded to the write-ahead log; since the changes are reflected in the
 WAL, it's not necessary to represent the deltas anymore.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the page is not currently marked dirty</dd>
</dl>
</li>
</ul>
<a name="isDirty--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDirty</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.273">isDirty</a>()</pre>
<div class="block">Returns true if the page's data has been changed in memory; false
 otherwise.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the page's data has been changed in memory</dd>
</dl>
</li>
</ul>
<a name="setDirty-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDirty</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.284">setDirty</a>(boolean&nbsp;dirty)</pre>
<div class="block">Sets the dirty flag to true or false, indicating whether the page's data
 has or has not been changed in memory.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dirty</code> - the dirty flag; true if the page's data is dirty, or false
        otherwise</dd>
</dl>
</li>
</ul>
<a name="getPageLSN--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageLSN</h4>
<pre>public&nbsp;<a href="../../../../edu/caltech/nanodb/storage/writeahead/LogSequenceNumber.html" title="class in edu.caltech.nanodb.storage.writeahead">LogSequenceNumber</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.317">getPageLSN</a>()</pre>
</li>
</ul>
<a name="setPageLSN-edu.caltech.nanodb.storage.writeahead.LogSequenceNumber-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPageLSN</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.322">setPageLSN</a>(<a href="../../../../edu/caltech/nanodb/storage/writeahead/LogSequenceNumber.html" title="class in edu.caltech.nanodb.storage.writeahead">LogSequenceNumber</a>&nbsp;lsn)</pre>
</li>
</ul>
<a name="invalidate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invalidate</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.333">invalidate</a>()</pre>
<div class="block">This method makes the <code>DBPage</code> invalid by clearing all of its
 internal references.  It is used by the Buffer Manager when a page is
 removed from the cache so that no other database code will continue to
 try to use the page.</div>
</li>
</ul>
<a name="read-int-byte:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.368">read</a>(int&nbsp;position,
                 byte[]&nbsp;b,
                 int&nbsp;off,
                 int&nbsp;len)</pre>
<div class="block">Read a sequence of bytes into the provided byte-array, starting with
 the specified offset, and reading the specified number of bytes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the starting index within the page to start reading data</dd>
<dd><code>b</code> - the destination buffer to save the data into</dd>
<dd><code>off</code> - the starting offset to save data to in the destination buffer</dd>
<dd><code>len</code> - the number of bytes to transfer to the destination buffer</dd>
</dl>
</li>
</ul>
<a name="read-int-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.381">read</a>(int&nbsp;position,
                 byte[]&nbsp;b)</pre>
<div class="block">Read a sequence of bytes into the provided byte-array.  The entire
 array is filled from start to end.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the starting index within the page to start reading data</dd>
<dd><code>b</code> - the destination buffer to save the data into</dd>
</dl>
</li>
</ul>
<a name="write-int-byte:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.399">write</a>(int&nbsp;position,
                  byte[]&nbsp;b,
                  int&nbsp;off,
                  int&nbsp;len)</pre>
<div class="block">Write a sequence of bytes from a byte-array into the page, starting with
 the specified offset in the buffer, and writing the specified number of
 bytes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the starting index within the page to start writing data</dd>
<dd><code>b</code> - the source buffer to read the data from</dd>
<dd><code>off</code> - the starting offset to read data from the source buffer</dd>
<dd><code>len</code> - the number of bytes to transfer from the source buffer</dd>
</dl>
</li>
</ul>
<a name="write-int-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.413">write</a>(int&nbsp;position,
                  byte[]&nbsp;b)</pre>
<div class="block">Write a sequence of bytes from a byte-array into the page.  The entire
 contents of the array is written to the page.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the starting index within the page to start writing data</dd>
<dd><code>b</code> - the source buffer to read the data from</dd>
</dl>
</li>
</ul>
<a name="moveDataRange-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>moveDataRange</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.426">moveDataRange</a>(int&nbsp;srcPosition,
                          int&nbsp;dstPosition,
                          int&nbsp;length)</pre>
<div class="block">Move the specified data region in the page.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>srcPosition</code> - The source offset to copy data from.</dd>
<dd><code>dstPosition</code> - The destination offset to copy data to.</dd>
<dd><code>length</code> - The number of bytes of data to move.</dd>
</dl>
</li>
</ul>
<a name="setDataRange-int-int-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDataRange</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.439">setDataRange</a>(int&nbsp;position,
                         int&nbsp;length,
                         byte&nbsp;value)</pre>
<div class="block">Write the specified alueMove the specified data region in the page.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - The starting position to write the value to.</dd>
<dd><code>length</code> - The number of bytes of data to set.</dd>
<dd><code>value</code> - The byte-value to write to the entire range.</dd>
</dl>
</li>
</ul>
<a name="readBoolean-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readBoolean</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.457">readBoolean</a>(int&nbsp;position)</pre>
<div class="block">Reads and returns a Boolean value from the specified position.  The
 Boolean value is encoded as a single byte; a zero value is interpreted
 as <tt>false</tt>, and a nonzero value is interpreted as <tt>true</tt>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the starting location in the page to start reading the
        value from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the Boolean value</dd>
</dl>
</li>
</ul>
<a name="writeBoolean-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeBoolean</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.470">writeBoolean</a>(int&nbsp;position,
                         boolean&nbsp;value)</pre>
<div class="block">Writes a Boolean value to the specified position.  The Boolean value is
 encoded as a single byte; <tt>false</tt> is written as 0, and
 <tt>true</tt> is written as 1.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the location in the page to write the value to</dd>
<dd><code>value</code> - the Boolean value</dd>
</dl>
</li>
</ul>
<a name="readByte-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readByte</h4>
<pre>public&nbsp;byte&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.483">readByte</a>(int&nbsp;position)</pre>
<div class="block">Reads and returns a signed byte from the specified position.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the location in the page to read the value from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the signed byte value</dd>
</dl>
</li>
</ul>
<a name="writeByte-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeByte</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.497">writeByte</a>(int&nbsp;position,
                      int&nbsp;value)</pre>
<div class="block">Writes a (signed or unsigned) byte to the specified position.  The byte
 value is specified as an integer for the sake of convenience
 (specifically to avoid having to cast an argument to a byte value), but
 the input is also truncated down to the low 8 bits.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the location in the page to write the value to</dd>
<dd><code>value</code> - the byte value</dd>
</dl>
</li>
</ul>
<a name="readUnsignedByte-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readUnsignedByte</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.512">readUnsignedByte</a>(int&nbsp;position)</pre>
<div class="block">Reads and returns an unsigned byte from the specified position.  The
 value is returned as an <tt>int</tt> whose value will be between
 0 and 255, inclusive.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the location in the page to read the value from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the unsigned byte value, as an integer</dd>
</dl>
</li>
</ul>
<a name="readUnsignedShort-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readUnsignedShort</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.526">readUnsignedShort</a>(int&nbsp;position)</pre>
<div class="block">Reads and returns an unsigned short from the specified position.  The
 value is returned as an <tt>int</tt> whose value will be between
 0 and 65535, inclusive.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the location in the page to start reading the value from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the unsigned short value, as an integer</dd>
</dl>
</li>
</ul>
<a name="readShort-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readShort</h4>
<pre>public&nbsp;short&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.541">readShort</a>(int&nbsp;position)</pre>
<div class="block">Reads and returns a signed short from the specified position.  The
 value is returned as a <tt>short</tt>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the location in the page to start reading the value from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the signed short value</dd>
</dl>
</li>
</ul>
<a name="writeShort-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeShort</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.561">writeShort</a>(int&nbsp;position,
                       int&nbsp;value)</pre>
<div class="block">Writes a (signed or unsigned) short to the specified position.  The short
 value is specified as an integer for the sake of convenience
 (specifically to avoid having to cast an argument to a short value), but
 the input is also truncated down to the low 16 bits.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the location in the page to write the value to</dd>
<dd><code>value</code> - the byte value</dd>
</dl>
</li>
</ul>
<a name="readChar-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readChar</h4>
<pre>public&nbsp;char&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.576">readChar</a>(int&nbsp;position)</pre>
<div class="block">Reads and returns a two-byte char value from the specified position.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the location in the page to start reading the value from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the char value</dd>
</dl>
</li>
</ul>
<a name="writeChar-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeChar</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.599">writeChar</a>(int&nbsp;position,
                      int&nbsp;value)</pre>
<div class="block">Writes a char to the specified position.  The char value is specified as
 an integer for the sake of convenience (specifically to avoid having to
 cast an argument to a char value), but the input is also truncated down
 to the low 16 bits.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the location in the page to write the value to</dd>
<dd><code>value</code> - the char value</dd>
</dl>
</li>
</ul>
<a name="readUnsignedInt-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readUnsignedInt</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.613">readUnsignedInt</a>(int&nbsp;position)</pre>
<div class="block">Reads and returns a 4-byte unsigned integer value from the specified
 position.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the location in the page to start reading the value from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the unsigned integer value, as a long</dd>
</dl>
</li>
</ul>
<a name="readInt-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readInt</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.630">readInt</a>(int&nbsp;position)</pre>
<div class="block">Reads and returns a 4-byte integer value from the specified position.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the location in the page to start reading the value from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the signed int value</dd>
</dl>
</li>
</ul>
<a name="writeInt-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeInt</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.646">writeInt</a>(int&nbsp;position,
                     int&nbsp;value)</pre>
<div class="block">Writes a 4-byte integer to the specified position.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the location in the page to write the value to</dd>
<dd><code>value</code> - the 4-byte integer value</dd>
</dl>
</li>
</ul>
<a name="readLong-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readLong</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.664">readLong</a>(int&nbsp;position)</pre>
<div class="block">Reads and returns an 8-byte long integer value from the specified
 position.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the location in the page to start reading the value from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the signed long value</dd>
</dl>
</li>
</ul>
<a name="writeLong-int-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeLong</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.684">writeLong</a>(int&nbsp;position,
                      long&nbsp;value)</pre>
<div class="block">Writes an 8-byte long integer to the specified position.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the location in the page to write the value to</dd>
<dd><code>value</code> - the 8-byte long integer value</dd>
</dl>
</li>
</ul>
<a name="readFloat-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readFloat</h4>
<pre>public&nbsp;float&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.698">readFloat</a>(int&nbsp;position)</pre>
</li>
</ul>
<a name="writeFloat-int-float-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeFloat</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.703">writeFloat</a>(int&nbsp;position,
                       float&nbsp;value)</pre>
</li>
</ul>
<a name="readDouble-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readDouble</h4>
<pre>public&nbsp;double&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.708">readDouble</a>(int&nbsp;position)</pre>
</li>
</ul>
<a name="writeDouble-int-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeDouble</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.713">writeDouble</a>(int&nbsp;position,
                        double&nbsp;value)</pre>
</li>
</ul>
<a name="readVarString255-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readVarString255</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.732">readVarString255</a>(int&nbsp;position)</pre>
<div class="block">This method reads and returns a variable-length string whose maximum
 length is 255 bytes.  The string is expected to be in US-ASCII
 encoding, so multibyte characters are not supported.
 <p>
 The string's data format is expected to be a single unsigned byte
 <em>b</em> specifying the string's length, followed by <em>b</em> more
 bytes consisting of the string value itself.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the location in the page to start reading the value from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a string object containing the stored value, up to a maximum of
         255 characters in length</dd>
</dl>
</li>
</ul>
<a name="writeVarString255-int-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeVarString255</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.768">writeVarString255</a>(int&nbsp;position,
                              <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;value)</pre>
<div class="block">This method stores a variable-length string whose maximum length is
 255 bytes.  The string is expected to be in US-ASCII encoding, so
 multibyte characters are not supported.
 <p>
 The string is stored as a single unsigned byte <em>b</em> specifying the
 string's length, followed by <em>b</em> more bytes consisting of the
 string value itself.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the location in the page to start writing the value to</dd>
<dd><code>value</code> - the string object containing the data to store</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if <tt>value</tt> is <tt>null</tt></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the input string is longer than
         255 characters</dd>
</dl>
</li>
</ul>
<a name="readVarString65535-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readVarString65535</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.805">readVarString65535</a>(int&nbsp;position)</pre>
<div class="block">This method reads and returns a variable-length string whose maximum
 length is 65535 bytes.  The string is expected to be in US-ASCII
 encoding, so multibyte characters are not supported.
 <p>
 The string's data format is expected to be a single unsigned short (two
 bytes) <em>s</em> specifying the string's length, followed by <em>s</em>
 more bytes consisting of the string value itself.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the location in the page to start reading the value from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a string object containing the stored value, up to a maximum of
         65535 characters in length</dd>
</dl>
</li>
</ul>
<a name="writeVarString65535-int-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeVarString65535</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.842">writeVarString65535</a>(int&nbsp;position,
                                <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;value)</pre>
<div class="block">This method stores a variable-length string whose maximum length is
 65535 bytes.  The string is expected to be in US-ASCII encoding, so
 multibyte characters are not supported.
 <p>
 The string is stored as a single unsigned short <em>s</em> specifying the
 string's length, followed by <em>s</em> more bytes consisting of the
 string value itself.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the location in the page to start writing the value to</dd>
<dd><code>value</code> - the string object containing the data to store</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if <tt>value</tt> is <tt>null</tt></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the input string is longer than
         65535 characters</dd>
</dl>
</li>
</ul>
<a name="readFixedSizeString-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readFixedSizeString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.888">readFixedSizeString</a>(int&nbsp;position,
                                  int&nbsp;len)</pre>
<div class="block">This method reads and returns a string whose length is fixed at a
 constant size.  The string is expected to be in US-ASCII encoding, so
 multibyte characters are not supported.
 <p>
 Strings shorter than the specified length are padded with 0 bytes at the end of the string, and
 this padding is removed when the string is read.


 The string's characters are stored starting with the specified position.
 If the string is shorter than the fixed length then the data is expected
 to be terminated with a <tt>\\u0000</tt> (i.e. <tt>NUL</tt>) value.  (If
 the string is exactly the given length then no string terminator is
 expected.)  <b>The implication of this storage format is that embedded
 <tt>NUL</tt> characters are not allowed with this storage format.</b></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the location in the page to start reading the value from</dd>
<dd><code>len</code> - the length of the fixed-size string</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a string object containing the stored value, up to a maximum of
         <tt>len</tt> characters in length</dd>
</dl>
</li>
</ul>
<a name="writeFixedSizeString-int-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeFixedSizeString</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.932">writeFixedSizeString</a>(int&nbsp;position,
                                 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;value,
                                 int&nbsp;len)</pre>
<div class="block">This method stores a string whose length is fixed at a constant size.
 The string is expected to be in US-ASCII encoding, so multibyte
 characters are not supported.
 <p>
 The string's characters are stored starting with the specified position.
 If the string is shorter than the fixed length then the data is padded
 with <tt>\\u0000</tt> (i.e. <tt>NUL</tt>) values.  If the string is
 exactly the given length then no string terminator is stored.  <b>The
 implication of this storage format is that embedded <tt>NUL</tt>
 characters are not allowed with this storage format.</b></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the location in the page to start writing the value to</dd>
<dd><code>value</code> - the string object containing the data to store</dd>
<dd><code>len</code> - the number of bytes used to store the string field</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if <tt>value</tt> is <tt>null</tt></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the input string is longer than
         <tt>len</tt> characters</dd>
</dl>
</li>
</ul>
<a name="readObject-int-edu.caltech.nanodb.relations.ColumnType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readObject</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.976">readObject</a>(int&nbsp;position,
                         <a href="../../../../edu/caltech/nanodb/relations/ColumnType.html" title="class in edu.caltech.nanodb.relations">ColumnType</a>&nbsp;colType)</pre>
<div class="block">This method provides a higher-level wrapper around the other methods in
 the <tt>DBPage</tt> class, allowing object-values to be read, as long
 as the data-type is provided along with the object.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the location in the page to start reading the value from</dd>
<dd><code>colType</code> - the type of the value being read</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the object read from the data</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if <tt>colType</tt> or <tt>value</tt> is
         <tt>null</tt></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the input string is longer than
         <tt>len</tt> characters</dd>
</dl>
</li>
</ul>
<a name="writeObject-int-edu.caltech.nanodb.relations.ColumnType-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeObject</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.1048">writeObject</a>(int&nbsp;position,
                       <a href="../../../../edu/caltech/nanodb/relations/ColumnType.html" title="class in edu.caltech.nanodb.relations">ColumnType</a>&nbsp;colType,
                       <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;value)</pre>
<div class="block">This method provides a higher-level wrapper around the other methods in
 the <tt>DBPage</tt> class, allowing object-values to be stored, as long
 as the object isn't <tt>null</tt> and the data-type is provided along
 with the object.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - the location in the page to start writing the value to</dd>
<dd><code>colType</code> - the type of the value being stored</dd>
<dd><code>value</code> - the object containing the data to store</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the total number of bytes written in the operation; i.e. this is
         the amount that the position is advanced.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if <tt>colType</tt> or <tt>value</tt> is
         <tt>null</tt></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the input string is longer than
         <tt>len</tt> characters</dd>
</dl>
</li>
</ul>
<a name="toFormattedString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toFormattedString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.1143">toFormattedString</a>()</pre>
</li>
</ul>
<a name="getChangesAsString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChangesAsString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.1188">getChangesAsString</a>()</pre>
<div class="block">This helper method returns a formatted string describing all changes
 made to the page's contents; that is, the differences between the
 <a href="../../../../edu/caltech/nanodb/storage/DBPage.html#pageData"><code>pageData</code></a> and the <a href="../../../../edu/caltech/nanodb/storage/DBPage.html#oldPageData"><code>oldPageData</code></a> byte-arrays.  The output
 is formatted to inclue rows of 32 bytes, and only includes rows where
 the data between old and new pages are actually different.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a formatted string describing all changes made to the page's
         contents</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the method is called on a non-dirty
         page</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/DBPage.html#line.1229">close</a>()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true#close--" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../edu/caltech/nanodb/storage/DBFileWriter.html" title="class in edu.caltech.nanodb.storage"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?edu/caltech/nanodb/storage/DBPage.html" target="_top">Frames</a></li>
<li><a href="DBPage.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
