<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_111) on Wed Jan 18 13:25:14 PST 2017 -->
<title>FileManagerImpl (NanoDB)</title>
<meta name="date" content="2017-01-18">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FileManagerImpl (NanoDB)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../edu/caltech/nanodb/storage/FilePointer.html" title="class in edu.caltech.nanodb.storage"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?edu/caltech/nanodb/storage/FileManagerImpl.html" target="_top">Frames</a></li>
<li><a href="FileManagerImpl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.caltech.nanodb.storage</div>
<h2 title="Class FileManagerImpl" class="title">Class FileManagerImpl</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>edu.caltech.nanodb.storage.FileManagerImpl</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage">FileManager</a></dd>
</dl>
<hr>
<br>
<pre>public class <a href="../../../../src-html/edu/caltech/nanodb/storage/FileManagerImpl.html#line.32">FileManagerImpl</a>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage">FileManager</a></pre>
<div class="block">The File Manager provides unbuffered, low-level operations for working with
 paged data files.  It really doesn't know anything about the internal file
 formats of the data files, except that the first two bytes of the first
 page must specify the type and page size for the data file.  (This is a
 requirement of <a href="../../../../edu/caltech/nanodb/storage/FileManagerImpl.html#openDBFile-java.lang.String-"><code>openDBFile(java.lang.String)</code></a>.)</div>
<dl>
<dt><span class="simpleTagLabel">Design note:</span></dt>
<dd>Although it might make more sense to put per-file operations like
         "load page" and "store page" on the <a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage"><code>DBFile</code></a> class, we
         provide higher-level operations on the Storage Manager so that we
         can provide global buffering capabilities in one place., This class includes no multithreading support.  It maintains no
         internal state, so there isn't anything that needs to be guarded,
         but still, other classes using this class need to be careful to
         maintain proper multithreading.</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/FileManagerImpl.html#baseDir">baseDir</a></span></code>
<div class="block">The base directory that the file-manager should use for creating and
 opening files.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/FileManagerImpl.html#LARGE_SEEK_THRESHOLD">LARGE_SEEK_THRESHOLD</a></span></code>
<div class="block">The threshold for what will count as a "large seek" within a single
 file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/FileManagerImpl.html#lastFileAccessed">lastFileAccessed</a></span></code>
<div class="block">The DBFile object of the file that was accessed most recently.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/FileManagerImpl.html#lastPageNoAccessed">lastPageNoAccessed</a></span></code>
<div class="block">The page number of the file that was accessed most recently.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Logger.html?is-external=true" title="class or interface in org.apache.log4j">Logger</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/FileManagerImpl.html#logger">logger</a></span></code>
<div class="block">A logging object for reporting anything interesting that happens.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/FileManagerImpl.html#FileManagerImpl-java.io.File-">FileManagerImpl</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;baseDir)</code>
<div class="block">Create a file-manager instance that uses the specified base directory.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/FileManagerImpl.html#closeDBFile-edu.caltech.nanodb.storage.DBFile-">closeDBFile</a></span>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile)</code>
<div class="block">Closes the underlying data file.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/FileManagerImpl.html#createDBFile-java.lang.String-edu.caltech.nanodb.storage.DBFileType-int-">createDBFile</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename,
            <a href="../../../../edu/caltech/nanodb/storage/DBFileType.html" title="enum in edu.caltech.nanodb.storage">DBFileType</a>&nbsp;type,
            int&nbsp;pageSize)</code>
<div class="block">This method creates a new database file in the directory used by the
 storage manager.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/FileManagerImpl.html#deleteDBFile-edu.caltech.nanodb.storage.DBFile-">deleteDBFile</a></span>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile)</code>
<div class="block">Deletes the specified database file.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/FileManagerImpl.html#deleteDBFile-java.io.File-">deleteDBFile</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;f)</code>
<div class="block">Deletes the specified database file.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/FileManagerImpl.html#deleteDBFile-java.lang.String-">deleteDBFile</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename)</code>
<div class="block">Deletes the database file with the specified filename from the storage
 manager's directory.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/FileManagerImpl.html#fileExists-java.lang.String-">fileExists</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename)</code>
<div class="block">Returns true if the specified file exists, or false otherwise.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/FileManagerImpl.html#getDBFiles--">getDBFiles</a></span>()</code>
<div class="block">Returns an array of the files in the database.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/FileManagerImpl.html#getPageStart-edu.caltech.nanodb.storage.DBFile-int-">getPageStart</a></span>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile,
            int&nbsp;pageNo)</code>
<div class="block">This helper function calculates the file-position of the specified page.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/FileManagerImpl.html#loadPage-edu.caltech.nanodb.storage.DBFile-int-byte:A-">loadPage</a></span>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile,
        int&nbsp;pageNo,
        byte[]&nbsp;buffer)</code>
<div class="block">Loads a page from the underlying data file, and returns a new
 <a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage"><code>DBPage</code></a> object containing the data.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/FileManagerImpl.html#loadPage-edu.caltech.nanodb.storage.DBFile-int-byte:A-boolean-">loadPage</a></span>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile,
        int&nbsp;pageNo,
        byte[]&nbsp;buffer,
        boolean&nbsp;create)</code>
<div class="block">Loads a page from the underlying data file, and returns a new
 <a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage"><code>DBPage</code></a> object containing the data.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/FileManagerImpl.html#openDBFile-java.lang.String-">openDBFile</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename)</code>
<div class="block">This method opens a database file, and reads in the file's type and page
 size from the first two bytes of the first page.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/FileManagerImpl.html#renameDBFile-edu.caltech.nanodb.storage.DBFile-java.lang.String-">renameDBFile</a></span>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile,
            <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;newFilename)</code>
<div class="block">Attempts to rename the specified <a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage"><code>DBFile</code></a> to a new filename.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/FileManagerImpl.html#savePage-edu.caltech.nanodb.storage.DBFile-int-byte:A-">savePage</a></span>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile,
        int&nbsp;pageNo,
        byte[]&nbsp;buffer)</code>
<div class="block">Saves a page to the DB file, and then clears the page's dirty flag.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/FileManagerImpl.html#syncDBFile-edu.caltech.nanodb.storage.DBFile-">syncDBFile</a></span>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile)</code>
<div class="block">This method ensures that all file-writes on the specified DB-file have
 actually been synchronized to the disk.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../edu/caltech/nanodb/storage/FileManagerImpl.html#updateFileIOPerfStats-edu.caltech.nanodb.storage.DBFile-int-boolean-int-">updateFileIOPerfStats</a></span>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile,
                     int&nbsp;pageNo,
                     boolean&nbsp;read,
                     int&nbsp;bufSize)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logger</h4>
<pre>private static&nbsp;<a href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Logger.html?is-external=true" title="class or interface in org.apache.log4j">Logger</a> <a href="../../../../src-html/edu/caltech/nanodb/storage/FileManagerImpl.html#line.35">logger</a></pre>
<div class="block">A logging object for reporting anything interesting that happens.</div>
</li>
</ul>
<a name="LARGE_SEEK_THRESHOLD">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LARGE_SEEK_THRESHOLD</h4>
<pre>public static final&nbsp;int <a href="../../../../src-html/edu/caltech/nanodb/storage/FileManagerImpl.html#line.44">LARGE_SEEK_THRESHOLD</a></pre>
<div class="block">The threshold for what will count as a "large seek" within a single
 file.  The units on this value is 512-byte sectors.  A value of 500 is
 probably a bit low, since tracks on modern hard disks will almost
 certainly contain over a hundred sectors.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#edu.caltech.nanodb.storage.FileManagerImpl.LARGE_SEEK_THRESHOLD">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="baseDir">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>baseDir</h4>
<pre>private&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a> <a href="../../../../src-html/edu/caltech/nanodb/storage/FileManagerImpl.html#line.51">baseDir</a></pre>
<div class="block">The base directory that the file-manager should use for creating and
 opening files.</div>
</li>
</ul>
<a name="lastFileAccessed">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastFileAccessed</h4>
<pre>private&nbsp;<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a> <a href="../../../../src-html/edu/caltech/nanodb/storage/FileManagerImpl.html#line.58">lastFileAccessed</a></pre>
<div class="block">The DBFile object of the file that was accessed most recently.  Used
 for recording performance metrics regarding disk IOs.</div>
</li>
</ul>
<a name="lastPageNoAccessed">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>lastPageNoAccessed</h4>
<pre>private&nbsp;int <a href="../../../../src-html/edu/caltech/nanodb/storage/FileManagerImpl.html#line.65">lastPageNoAccessed</a></pre>
<div class="block">The page number of the file that was accessed most recently.  Used
 for recording performance metrics regarding disk IOs.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FileManagerImpl-java.io.File-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FileManagerImpl</h4>
<pre>public&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/FileManagerImpl.html#line.73">FileManagerImpl</a>(<a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;baseDir)</pre>
<div class="block">Create a file-manager instance that uses the specified base directory.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>baseDir</code> - the base-directory that the file-manager should use</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getDBFiles--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDBFiles</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>[]&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/FileManagerImpl.html#line.86">getDBFiles</a>()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#getDBFiles--">FileManager</a></code></span></div>
<div class="block">Returns an array of the files in the database.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#getDBFiles--">getDBFiles</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage">FileManager</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>list of database files</dd>
</dl>
</li>
</ul>
<a name="updateFileIOPerfStats-edu.caltech.nanodb.storage.DBFile-int-boolean-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateFileIOPerfStats</h4>
<pre>void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/FileManagerImpl.html#line.91">updateFileIOPerfStats</a>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile,
                           int&nbsp;pageNo,
                           boolean&nbsp;read,
                           int&nbsp;bufSize)</pre>
</li>
</ul>
<a name="getPageStart-edu.caltech.nanodb.storage.DBFile-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageStart</h4>
<pre>private&nbsp;long&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/FileManagerImpl.html#line.133">getPageStart</a>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile,
                          int&nbsp;pageNo)</pre>
<div class="block">This helper function calculates the file-position of the specified page.
 Obviously, this value is dependent on the page size.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dbFile</code> - the database file to compute the page-start for</dd>
<dd><code>pageNo</code> - the page number to access</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the offset of the specified page from the start of the database
         file</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the page number is negative</dd>
</dl>
</li>
</ul>
<a name="fileExists-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fileExists</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/FileManagerImpl.html#line.145">fileExists</a>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#fileExists-java.lang.String-">FileManager</a></code></span></div>
<div class="block">Returns true if the specified file exists, or false otherwise.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#fileExists-java.lang.String-">fileExists</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage">FileManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filename</code> - the name of the file to check for existence</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the file exists, or false otherwise</dd>
</dl>
</li>
</ul>
<a name="createDBFile-java.lang.String-edu.caltech.nanodb.storage.DBFileType-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createDBFile</h4>
<pre>public&nbsp;<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/FileManagerImpl.html#line.152">createDBFile</a>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename,
                           <a href="../../../../edu/caltech/nanodb/storage/DBFileType.html" title="enum in edu.caltech.nanodb.storage">DBFileType</a>&nbsp;type,
                           int&nbsp;pageSize)
                    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#createDBFile-java.lang.String-edu.caltech.nanodb.storage.DBFileType-int-">FileManager</a></code></span></div>
<div class="block">This method creates a new database file in the directory used by the
 storage manager.  An exception is thrown if the file already exists.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#createDBFile-java.lang.String-edu.caltech.nanodb.storage.DBFileType-int-">createDBFile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage">FileManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filename</code> - the name of the file to open to create the database file</dd>
<dd><code>type</code> - the type of database file being created</dd>
<dd><code>pageSize</code> - the page size to use when reading and writing the file</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new database file object for the newly created file</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the specified file already exists.</dd>
</dl>
</li>
</ul>
<a name="renameDBFile-edu.caltech.nanodb.storage.DBFile-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>renameDBFile</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/FileManagerImpl.html#line.173">renameDBFile</a>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile,
                            <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;newFilename)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#renameDBFile-edu.caltech.nanodb.storage.DBFile-java.lang.String-">FileManager</a></code></span></div>
<div class="block">Attempts to rename the specified <a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage"><code>DBFile</code></a> to a new filename.
 If successful, the <code>DBFile</code> object itself is updated with a new
 <a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io"><code>File</code></a> object reflecting the new name.  If failure, the
 <code>DBFile</code> object is left untouched.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#renameDBFile-edu.caltech.nanodb.storage.DBFile-java.lang.String-">renameDBFile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage">FileManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dbFile</code> - the database file to rename</dd>
<dd><code>newFilename</code> - the new name to give to the database file</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the rename succeeded, or false otherwise.</dd>
</dl>
</li>
</ul>
<a name="openDBFile-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openDBFile</h4>
<pre>public&nbsp;<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/FileManagerImpl.html#line.188">openDBFile</a>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename)
                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#openDBFile-java.lang.String-">FileManager</a></code></span></div>
<div class="block">This method opens a database file, and reads in the file's type and page
 size from the first two bytes of the first page.  The method uses the
 <a href="http://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html?is-external=true#readUnsignedShort--" title="class or interface in java.io"><code>RandomAccessFile.readUnsignedShort()</code></a> method to read the page
 size from the data file when it is opened.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#openDBFile-java.lang.String-">openDBFile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage">FileManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filename</code> - the name of the database file to open</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the successfully opened database file</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/FileNotFoundException.html?is-external=true" title="class or interface in java.io">FileNotFoundException</a></code> - if the specified file doesn't exist.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if a more general IO issue occurs.</dd>
</dl>
</li>
</ul>
<a name="loadPage-edu.caltech.nanodb.storage.DBFile-int-byte:A-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadPage</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/FileManagerImpl.html#line.220">loadPage</a>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile,
                     int&nbsp;pageNo,
                     byte[]&nbsp;buffer,
                     boolean&nbsp;create)
              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#loadPage-edu.caltech.nanodb.storage.DBFile-int-byte:A-boolean-">FileManager</a></code></span></div>
<div class="block">Loads a page from the underlying data file, and returns a new
 <a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage"><code>DBPage</code></a> object containing the data.  The <tt>create</tt> flag
 controls whether an error is propagated, if the requested page is past
 the end of the file.  (Note that if a new page is created, the file's
 size will not reflect the new page until it is actually written to the
 file.)
 <p>
 <em>This function does no page caching whatsoever.</em>  Requesting a
 particular page multiple times will return multiple page objects, with
 data loaded from the file each time.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#loadPage-edu.caltech.nanodb.storage.DBFile-int-byte:A-boolean-">loadPage</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage">FileManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dbFile</code> - the database file to load the page from</dd>
<dd><code>pageNo</code> - the number of the page to load</dd>
<dd><code>create</code> - a flag specifying whether the page should be created if it
        doesn't already exist</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/EOFException.html?is-external=true" title="class or interface in java.io">EOFException</a></code> - if the requested page is not in the data file,
         and the <tt>create</tt> flag is set to <tt>false</tt>.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="loadPage-edu.caltech.nanodb.storage.DBFile-int-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadPage</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/FileManagerImpl.html#line.283">loadPage</a>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile,
                     int&nbsp;pageNo,
                     byte[]&nbsp;buffer)
              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#loadPage-edu.caltech.nanodb.storage.DBFile-int-byte:A-">FileManager</a></code></span></div>
<div class="block">Loads a page from the underlying data file, and returns a new
 <a href="../../../../edu/caltech/nanodb/storage/DBPage.html" title="class in edu.caltech.nanodb.storage"><code>DBPage</code></a> object containing the data.  This method always reports an
 <a href="http://docs.oracle.com/javase/7/docs/api/java/io/EOFException.html?is-external=true" title="class or interface in java.io"><code>EOFException</code></a> if the specified page is past the end of the
 database file.
 <p>
 <em>This function does no page caching whatsoever.</em>  Requesting a
 particular page multiple times will return multiple page objects, with
 data loaded from the file each time.
 <p>
 (This method is simply a wrapper of
 <a href="../../../../edu/caltech/nanodb/storage/FileManager.html#loadPage-edu.caltech.nanodb.storage.DBFile-int-byte:A-boolean-"><code>FileManager.loadPage(DBFile, int, byte[], boolean)</code></a>, passing <code>false</code>
 for <code>create</code>.)</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#loadPage-edu.caltech.nanodb.storage.DBFile-int-byte:A-">loadPage</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage">FileManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dbFile</code> - the database file to load the page from</dd>
<dd><code>pageNo</code> - the number of the page to load</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/EOFException.html?is-external=true" title="class or interface in java.io">EOFException</a></code> - if the requested page is not in the data file.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="savePage-edu.caltech.nanodb.storage.DBFile-int-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>savePage</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/FileManagerImpl.html#line.290">savePage</a>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile,
                     int&nbsp;pageNo,
                     byte[]&nbsp;buffer)
              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#savePage-edu.caltech.nanodb.storage.DBFile-int-byte:A-">FileManager</a></code></span></div>
<div class="block">Saves a page to the DB file, and then clears the page's dirty flag.
 Note that the data might not actually be written to disk until a sync
 operation is performed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#savePage-edu.caltech.nanodb.storage.DBFile-int-byte:A-">savePage</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage">FileManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dbFile</code> - the data file to write to</dd>
<dd><code>pageNo</code> - the page number to write the buffer to</dd>
<dd><code>buffer</code> - the data to write back to the page</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an error occurs while writing the page to disk</dd>
</dl>
</li>
</ul>
<a name="syncDBFile-edu.caltech.nanodb.storage.DBFile-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>syncDBFile</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/FileManagerImpl.html#line.315">syncDBFile</a>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile)
                throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#syncDBFile-edu.caltech.nanodb.storage.DBFile-">FileManager</a></code></span></div>
<div class="block">This method ensures that all file-writes on the specified DB-file have
 actually been synchronized to the disk.  Note that even after a call to
 <a href="../../../../edu/caltech/nanodb/storage/FileManager.html#savePage-edu.caltech.nanodb.storage.DBFile-int-byte:A-"><code>FileManager.savePage(edu.caltech.nanodb.storage.DBFile, int, byte[])</code></a>, the filesystem may postpone the write for various
 reasons, or disks may also buffer the write operations in order to
 optimize their storage to disk.  This method ensures that any buffered
 writes will actually be written to the disk.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#syncDBFile-edu.caltech.nanodb.storage.DBFile-">syncDBFile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage">FileManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dbFile</code> - the database file to synchronize</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/SyncFailedException.html?is-external=true" title="class or interface in java.io">SyncFailedException</a></code> - if the synchronization operation
         cannot be guaranteed successful, or if it fails for some reason.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if some other IO problem occurs.</dd>
</dl>
</li>
</ul>
<a name="closeDBFile-edu.caltech.nanodb.storage.DBFile-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeDBFile</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/FileManagerImpl.html#line.322">closeDBFile</a>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile)
                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#closeDBFile-edu.caltech.nanodb.storage.DBFile-">FileManager</a></code></span></div>
<div class="block">Closes the underlying data file.  Obviously, subsequent read or write
 attempts will fail after this method is called.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#closeDBFile-edu.caltech.nanodb.storage.DBFile-">closeDBFile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage">FileManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dbFile</code> - the database file to close</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the file cannot be closed for some reason.</dd>
</dl>
</li>
</ul>
<a name="deleteDBFile-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteDBFile</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/FileManagerImpl.html#line.333">deleteDBFile</a>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename)
                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#deleteDBFile-java.lang.String-">FileManager</a></code></span></div>
<div class="block">Deletes the database file with the specified filename from the storage
 manager's directory.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#deleteDBFile-java.lang.String-">deleteDBFile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage">FileManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filename</code> - the name of the file to delete</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the file cannot be deleted for some reason.</dd>
</dl>
</li>
</ul>
<a name="deleteDBFile-java.io.File-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteDBFile</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/FileManagerImpl.html#line.341">deleteDBFile</a>(<a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;f)
                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#deleteDBFile-java.io.File-">FileManager</a></code></span></div>
<div class="block">Deletes the specified database file.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#deleteDBFile-java.io.File-">deleteDBFile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage">FileManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>f</code> - the file to delete</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the file cannot be deleted for some reason.</dd>
</dl>
</li>
</ul>
<a name="deleteDBFile-edu.caltech.nanodb.storage.DBFile-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>deleteDBFile</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/edu/caltech/nanodb/storage/FileManagerImpl.html#line.348">deleteDBFile</a>(<a href="../../../../edu/caltech/nanodb/storage/DBFile.html" title="class in edu.caltech.nanodb.storage">DBFile</a>&nbsp;dbFile)
                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#deleteDBFile-edu.caltech.nanodb.storage.DBFile-">FileManager</a></code></span></div>
<div class="block">Deletes the specified database file.  The caller should ensure that the
 database file is closed and is going to be unused.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html#deleteDBFile-edu.caltech.nanodb.storage.DBFile-">deleteDBFile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage">FileManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dbFile</code> - the database file to delete</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the file cannot be deleted for some reason.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../edu/caltech/nanodb/storage/FileManager.html" title="interface in edu.caltech.nanodb.storage"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../edu/caltech/nanodb/storage/FilePointer.html" title="class in edu.caltech.nanodb.storage"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?edu/caltech/nanodb/storage/FileManagerImpl.html" target="_top">Frames</a></li>
<li><a href="FileManagerImpl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
